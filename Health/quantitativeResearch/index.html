
<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantitative Research in Health - Interactive Simulation</title>
    <!-- Chart.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Fonts & Icons for Statistical Test Guide -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Roboto:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <style>
        :root {
            --primary-color: #005A9C;
            --secondary-color: #00B2A9;
            --background-color: #f4f7f6;
            --text-color: #333;
            --light-gray: #e9ecef;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --refresher-bg: #e7f4ff;
            
            /* Colours for Statistical Test Guide */
            --level1-color: #3949ab;
            --level2-color: #00acc1;
            --level3-color: #fdd835;
            --level4-color: #7e57c2;
            --level5-color: #e53935;
            --level6-color: #43a047;
            --line-color: #616161;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--background-color);
            margin: 0;
            padding-top: 60px; /* Space for sticky nav */
        }

        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 0 20px;
        }
        
        .container-wide {
            max-width: 1400px;
            margin: 20px auto;
            padding: 0 20px;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        header h1 { margin: 0; font-size: 2.5em; }

        .nav-bar {
            position: fixed;
            top: 0;
            width: 100%;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            z-index: 999;
            display: flex;
            justify-content: center;
            padding: 0 10px;
        }

        .nav-bar ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            align-items: center;
            width: 100%;
            max-width: 1200px;
            overflow-x: auto;
        }

        .nav-bar a {
            display: block;
            padding: 20px 15px;
            text-decoration: none;
            color: var(--primary-color);
            font-weight: bold;
            transition: background-color 0.3s, color 0.3s;
            white-space: nowrap;
            cursor: pointer;
        }

        .nav-bar a.active, .nav-bar a:hover {
            background-color: var(--primary-color);
            color: white;
        }
        
        .glossary-nav-item {
            margin-left: auto; /* Pushes to the right */
        }

        .glossary-button {
            background-color: var(--success-color);
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: bold;
            white-space: nowrap;
        }
        .glossary-button:hover {
            background-color: #218838;
        }

        .step {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        
        /* Page navigation styles */
        .page-section {
            display: none; /* Hide all pages by default */
        }
        .active-page {
            display: block; /* Show only the active page */
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        .nav-button {
            background-color: var(--secondary-color);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
        }
        .nav-button.back {
            background-color: #6c757d;
        }
        .nav-button:hover {
            opacity: 0.9;
        }
        .nav-button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }


        h2 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 10px;
            margin-top: 0;
        }

        h3, h4 { color: #003d6b; }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .comparison-box {
            background-color: var(--light-gray);
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid var(--secondary-color);
        }
        
        .comparison-box.qualitative {
            border-left: 5px solid #f0ad4e;
        }

        .comparison-box h4 {
            margin-top: 0;
            font-size: 1.2em;
        }
        
        .comparison-box img {
            display: block;
            margin: 15px auto 0;
            max-height: 60px;
        }

        .quiz-container {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .quiz-question {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #ddd;
        }
        
        .quiz-question:last-child { border-bottom: none; margin-bottom: 0; }
        .quiz-question p { font-weight: bold; }
        .quiz-options label { display: block; margin-bottom: 10px; cursor: pointer; }

        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        .feedback.correct { background-color: #d4edda; color: #155724; }
        .feedback.incorrect { background-color: #f8d7da; color: #721c24; }

        .button {
            background-color: var(--secondary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
        }
        .button:hover { background-color: #008f86; }
        .button:disabled { background-color: #ccc; cursor: not-allowed; }

        /* Modal Styles */
        .modal {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0;
            width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6);
        }
        .modal-content {
            background-color: #fefefe; margin: 5% auto; padding: 30px; border: 1px solid #888;
            width: 80%; max-width: 700px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn { from {opacity: 0; transform: scale(0.9);} to {opacity: 1; transform: scale(1);} }
        .close-button { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
        .close-button:hover, .close-button:focus { color: black; }
        .modal-section {
            background-color: #e7f4ff; border-left: 5px solid var(--primary-color);
            padding: 15px; margin-top: 20px; border-radius: 5px;
        }
        .warning-section {
            background-color: #fff3cd; border-left: 5px solid var(--warning-color);
            padding: 15px; margin-top: 20px; border-radius: 5px;
        }

        /* Drag and Drop Quiz Styles */
        .drag-drop-container { display: flex; justify-content: space-between; gap: 20px; flex-wrap: wrap; }
        .drag-options { width: 30%; border: 2px dashed #ccc; padding: 10px; border-radius: 5px; min-width: 180px; }
        .drop-scenarios { width: 65%; min-width: 300px; }
        .draggable {
            background-color: var(--secondary-color); color: white; padding: 8px;
            margin-bottom: 8px; border-radius: 5px; cursor: grab; text-align: center; font-size: 0.9em;
        }
        .draggable.dragging { opacity: 0.5; }
        .drop-zone {
            background-color: #f0f0f0; border: 2px dashed #aaa; padding: 15px;
            margin-bottom: 10px; border-radius: 5px; transition: background-color 0.3s;
        }
        .drop-zone.hover { background-color: #e0e0e0; }
        .drop-zone.correct { background-color: #d4edda; border-color: var(--success-color); }
        .drop-zone p { margin: 0; }
        .correct-feedback { font-size: 0.9em; color: #155724; margin-top: 8px; font-style: italic; }

        /* Step 1 Quiz Styles */
        .scenario-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }
        .scenario-option {
            border: 3px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        .scenario-option:hover {
            border-color: var(--secondary-color);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .scenario-option img, .scenario-option .text-icon {
            height: 60px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
        }
        .scenario-option .text-icon {
            font-size: 2em;
            font-weight: bold;
            color: var(--warning-color);
        }
        .scenario-option input[type="radio"] {
            display: none;
        }
        .scenario-option input[type="radio"]:checked + div {
            border-color: var(--primary-color);
            background-color: #e7f4ff;
        }

        /* Data Type Diagram Styles */
        .diagram-container {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        .diagram-column {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 45%;
        }
        .diagram-box {
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            width: 100%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .main-category {
            background-color: var(--primary-color);
            color: white;
            font-weight: bold;
            font-size: 1.2em;
            position: relative;
        }
        .main-category::after { /* Downward line */
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 3px;
            height: 20px;
            background-color: #ccc;
        }
        .diagram-fork {
            display: flex;
            justify-content: space-between; /* Creates space between items */
            width: 100%;
            margin-top: 40px; /* Space for connector */
            position: relative;
        }
        .diagram-fork::before { /* Horizontal line */
            content: '';
            position: absolute;
            top: -20px;
            left: 25%;
            right: 25%;
            height: 3px;
            background-color: #ccc;
        }
        .sub-category {
            background-color: white;
            border: 2px solid var(--secondary-color);
            width: 45%;
            position: relative;
        }
        .sub-category::before { /* Upward line */
            content: '';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 3px;
            height: 20px;
            background-color: #ccc;
        }
        .data-type-icon {
            height: 30px;
            width: 30px;
            margin-bottom: 8px;
        }
        .list-icon {
            height: 24px;
            width: 24px;
            margin-right: 10px;
            flex-shrink: 0;
        }
        .data-list li {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        .coding-example {
            font-style: italic;
            color: #555;
            margin-top: 8px;
            font-size: 0.9em;
        }
        
        /* Skewness Diagram Styles */
        .skew-diagrams {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-top: 20px;
            text-align: center;
        }
        .skew-diagrams > div {
            width: 32%;
        }
        .legend-container {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 15px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            font-size: 0.9em;
        }
        .legend-line {
            display: inline-block;
            width: 30px;
            height: 2px;
            margin-right: 8px;
        }
        .legend-line.mean { border-top: 2px solid var(--danger-color); }
        .legend-line.median { border-top: 2px dashed var(--success-color); }
        .legend-line.mode { border-top: 2px dashed var(--warning-color); }
        
        /* Refresher Section Style */
        .refresher-section {
            background-color: var(--refresher-bg);
            border: 1px solid #b8daff;
            border-left: 5px solid var(--primary-color);
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .inferential-method {
            background-color: var(--light-gray);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .inferential-method-desc {
            flex-grow: 1;
        }
        
        /* STYLES FOR TEST DEFINITIONS */
        .test-title-container {
            display: flex;
            align-items: center;
            gap: 15px; /* Space between icon and title */
            margin-bottom: 15px;
        }
        .test-icon {
            height: 48px;
            width: 48px;
            flex-shrink: 0; /* Prevent icon from shrinking */
        }
        .test-title-container h4 {
            margin: 0;
            font-size: 1.5em;
        }
        .test-details {
            margin-top: 10px;
            padding-left: 20px;
            border-left: 3px solid var(--secondary-color);
        }
        .test-details h5 {
            margin: 15px 0 5px 0;
            color: var(--primary-color);
            font-size: 1.1em;
        }
        .test-details p {
            margin: 0 0 10px 0;
        }
        
        /* Selection Guide Styles */
        .selection-guide ol {
            list-style: none;
            padding-left: 0;
        }
        .selection-guide li {
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        .guide-q1 { background-color: #cfe2ff; } /* Blue */
        .guide-q2 { background-color: #cff4fc; } /* Teal */
        .guide-q3 { background-color: #fff9c4; } /* Yellow */
        .guide-q4 { background-color: #ede7f3; } /* Purple */
        .guide-q5 { background-color: #ffebee; } /* Red */
        
        /* STYLES FOR EXAMPLE LINKS */
        .example-link {
            display: flex;
            align-items: center;
            gap: 20px;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
        }
        .example-link-title {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .example-link-title h4 {
            margin: 0;
        }
        .example-link-title img {
            height: 32px;
            width: 32px;
        }

        /* Sandbox Styles */
        .sandbox-container {
            border: 2px solid var(--secondary-color);
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
        .sandbox-flex {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }
        .sandbox-controls {
            width: 40%;
        }
        .sandbox-graph {
            width: 60%;
        }
        .sandbox-results {
            margin-top: 15px;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
        }
        #outlierInput {
            width: 80px;
            padding: 5px;
            margin: 0 10px;
        }
        
        /* Summary Call-to-Action Style */
        .summary-cta {
            background-color: #e0f2f1; /* Light teal */
            border-left: 5px solid var(--secondary-color);
            padding: 20px;
            margin-top: 30px;
            border-radius: 8px;
        }
        .summary-cta p {
            margin: 0;
            font-size: 1.1em;
            color: #004d40; /* Dark teal text */
        }

        /* --- START: STYLES FOR STATISTICAL TEST GUIDE --- */
        .guide-wrapper {
            font-family: 'Roboto', sans-serif;
            background-color: #f9f9f9;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23f2f2f2' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            text-align: center;
        }
        .guide-wrapper .main-title {
            font-size: 2.2em; /* Adjusted size */
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
            font-family: 'Montserrat', sans-serif;
        }
        .guide-wrapper .print-button {
            display: block;
            margin: 0 auto 30px auto; /* Centered and positioned */
            padding: 8px 16px;
            font-size: 1em;
            cursor: pointer;
            border: 1px solid #b2ebf2;
            border-radius: 6px;
            background-color: #e0f7fa;
            transition: all 0.2s ease;
        }
        .guide-wrapper .print-button:hover {
            background-color: #ccecf2;
            border-color: #a0dde4;
        }

        /* --- Explanatory Note --- */
        .guide-wrapper .info-note {
            display: inline-block;
            max-width: 1400px; /* Same width as tree container */
            margin: 0 auto 20px auto;
            padding: 20px 30px;
            background-color: #fffbe6;
            border: 1px solid #ffe58f;
            border-radius: 8px;
            text-align: left;
            font-size: 1em; /* Adjusted size */
            line-height: 1.6;
        }
        .guide-wrapper .info-note strong { color: #d48806; }
        .guide-wrapper .info-note h3 { margin-top: 0; font-family: 'Montserrat', sans-serif; color: #333; font-size: 1.2em; margin-bottom: 10px; }
        .guide-wrapper .info-note ul { padding-left: 20px; margin-top: 10px; }

        /* --- Container for Legend and Tracker --- */
        .guide-wrapper .guide-tools-container {
            display: flex;
            justify-content: space-between; /* Pushes items to edges */
            align-items: flex-start;
            max-width: 1400px; /* Same width as tree container */
            margin: 0 auto 40px auto; /* Centered */
        }

        /* --- Legend Styling --- */
        .guide-wrapper .legend {
            width: 75%; /* Adjusted width */
            text-align: left;
            border: 2px solid #ccc;
            padding: 15px 25px;
            border-radius: 10px;
            background-color: #fff;
            font-size: 1em; /* Adjusted size */
        }
        .guide-wrapper .legend-title { font-weight: bold; font-size: 1.2em; margin-top: 0; margin-bottom: 15px; }
        .guide-wrapper .legend ul { list-style: none; padding: 0; margin: 0; }
        .guide-wrapper .legend li { display: flex; align-items: center; margin-bottom: 10px; }
        .guide-wrapper .legend-color-box { width: 20px; height: 20px; margin-right: 15px; border-radius: 4px; flex-shrink: 0; }

        /* --- Example Tracker Box --- */
        .guide-wrapper #example-tracker {
            width: 23%; /* Adjusted width */
            padding: 20px 30px;
            background-color: #e8f5e9;
            border: 1px solid #a5d6a7;
            border-radius: 10px;
            text-align: left;
            font-size: 1em; /* Adjusted size */
            line-height: 1.6;
            transition: background-color 0.3s ease;
        }
        .guide-wrapper #example-tracker strong { color: #2e7d32; font-size: 1.2em; }
        .guide-wrapper #example-tracker p { margin: 0; }

        /* --- Tooltip Styling --- */
        .guide-wrapper .tooltip {
            position: relative;
            cursor: help;
            text-decoration: underline;
            text-decoration-style: dotted;
            text-decoration-color: #007bff;
        }
        .guide-wrapper .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: #fff;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            line-height: 1.4;
            width: 250px;
            text-align: left;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease, visibility 0.2s ease;
            z-index: 100;
            font-family: 'Roboto', sans-serif;
            text-decoration: none;
        }
        .guide-wrapper .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
        }

        /* --- Modal Styling --- */
        .guide-wrapper .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .guide-wrapper .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }
        .guide-wrapper .modal-content {
            background: #fff;
            padding: 25px 35px;
            border-radius: 12px;
            max-width: 550px;
            width: 90%;
            text-align: left;
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        .guide-wrapper .modal-overlay.visible .modal-content {
            transform: scale(1);
        }
        .guide-wrapper .modal-close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 2em;
            cursor: pointer;
            color: #888;
            line-height: 1;
        }
        .guide-wrapper .modal-close:hover { color: #333; }
        .guide-wrapper .modal-content h3 {
            margin-top: 0;
            font-family: 'Montserrat', sans-serif;
            color: #333;
        }
        .guide-wrapper .modal-content p {
            margin-bottom: 15px;
            line-height: 1.6;
        }
        .guide-wrapper .modal-content strong { color: #3949ab; }

        /* --- UNIFIED & ASYMMETRICAL TREE STRUCTURE --- */
        .guide-wrapper .unified-tree-container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }
        .guide-wrapper .top-level-container {
            display: flex;
            justify-content: center;
            position: relative;
            padding-bottom: 50px;
        }
        .guide-wrapper .branch-container {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        .guide-wrapper .main-path {
            padding: 20px 15px;
            background-color: #fafafa;
            border: 1px solid #e0e0e0;
            border-radius: 16px;
            position: relative;
        }
        .guide-wrapper .main-path.differences { width: 58%; }
        .guide-wrapper .main-path.relationships { width: 40%; }

        .guide-wrapper .path-content { display: flex; justify-content: space-between; align-items: flex-start; }
        .guide-wrapper .data-type-column {
            width: 32%;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        /* --- Box Styling with Progressive Sizing --- */
        .guide-wrapper .level-container {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 110px;
            position: relative;
        }
        .guide-wrapper .box {
            font-family: 'Montserrat', sans-serif;
            color: white;
            border-radius: 14px;
            width: auto;
            max-width: 95%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            position: relative;
            z-index: 2;
            border: 1px solid rgba(0, 0, 0, 0.08);
            box-shadow: 0 4px 8px rgba(0,0,0,0.06), 0 1px 4px rgba(0,0,0,0.04), inset 0 0 10px rgba(0,0,0,0.03);
            background-image: linear-gradient(to bottom, rgba(255,255,255,0.15) 0%, rgba(0,0,0,0.05) 100%);
            transition: all 0.25s ease-in-out;
        }
        .guide-wrapper .box i { margin-bottom: 6px; }
        .guide-wrapper .box span { display: flex; align-items: center; justify-content: center; }
        
        .guide-wrapper .box:hover {
            transform: scale(1.04);
            box-shadow: 0 10px 15px rgba(0,0,0,0.09), 0 4px 6px rgba(0,0,0,0.07);
            z-index: 10;
        }
        .guide-wrapper .box.path-header, .guide-wrapper .box.final-test { cursor: pointer; }

        /* Progressive Sizing Rules */
        .guide-wrapper .box.level1 { background-color: var(--level1-color); font-size: 1.3em; padding: 15px 25px; font-weight: 700; }
        .guide-wrapper .box.path-header { background-color: var(--level1-color); font-size: 1.2em; padding: 12px 20px; }
        .guide-wrapper .box.path-header i { font-size: 1.2em; margin-right: 8px; margin-bottom: 0; }
        .guide-wrapper .box.level2 { background-color: var(--level2-color); font-size: 1em; padding: 10px 15px; }
        .guide-wrapper .box.level2 i { font-size: 1.5em; }
        .guide-wrapper .box.level3 { background-color: var(--level3-color); font-size: 0.9em; padding: 8px 12px; }
        .guide-wrapper .box.level4 { background-color: var(--level4-color); font-size: 0.85em; padding: 8px 12px; }
        .guide-wrapper .box.level5 { background-color: var(--level5-color); font-size: 0.8em; padding: 8px 10px; }
        .guide-wrapper .box.level6 { background-color: var(--level6-color); font-size: 0.75em; padding: 8px 10px; }

        .guide-wrapper .box-pair { display: flex; justify-content: space-around; width: 100%; }
        .guide-wrapper .box-pair .box { width: auto; flex-shrink: 1; }
        .guide-wrapper .box-pair-single-left { display: flex; justify-content: flex-start; width: 100%; padding-left: 2%; }

        /* --- Interactive YES/NO Boxes --- */
        .guide-wrapper .decision-box-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }
        .guide-wrapper .decision-box {
            position: absolute;
            background-color: var(--level3-color);
            color: #333;
            border: 1px solid #e6c32e;
            border-radius: 8px;
            padding: 4px 10px;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.2s ease;
            z-index: 3;
        }
        .guide-wrapper .decision-box:hover {
            background-color: #fbc02d;
            border-color: #c8a92a;
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        .guide-wrapper .decision-box.yes {
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
        }
        .guide-wrapper .decision-box.no {
            top: 50%;
            left: 90%;
            transform: translateY(-50%);
        }

        /* --- SVG Connector Styling --- */
        .guide-wrapper .connector-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: visible;
            z-index: 1;
        }
        .guide-wrapper .connector-svg path, .guide-wrapper .connector-svg line {
            stroke: var(--line-color);
            stroke-width: 1.7;
            stroke-linecap: round;
            fill: none;
        }
        .guide-wrapper .print-label {
            display: none;
            font-family: 'Roboto', sans-serif;
            font-weight: bold;
        }
        
        /* --- Print-Specific Styles --- */
        @media print {
            @page { size: landscape; margin: 1cm; }
            body { background: none; -webkit-print-color-adjust: exact !important; color-adjust: exact !important; }
            .print-button, .modal-overlay, .modal, .nav-bar, .navigation-buttons, .glossary-button, footer { display: none !important; }
            
            .guide-wrapper .tooltip { text-decoration: none !important; cursor: default; color: inherit; }
            .guide-wrapper .tooltip::after { display: none !important; }

            .guide-wrapper .print-header { page-break-after: always; display: block !important; text-align: center; }
            
            .guide-wrapper .guide-tools-container {
                display: block;
                page-break-after: always;
                page-break-inside: avoid;
            }
            .guide-wrapper .legend, .guide-wrapper #example-tracker {
                display: block;
                width: 90%;
                margin: 0 auto 1cm auto;
                border: 1px solid #333;
            }

            .guide-wrapper .unified-tree-container { display: block; }
            .guide-wrapper .unified-tree-container { transform: scale(0.95); transform-origin: top center; width: 100%; }
            .guide-wrapper .main-path { box-shadow: none; border: 1.5px solid #333; width: 49%; padding: 10px 5px; page-break-inside: avoid; }
            .guide-wrapper .level-container { min-height: 85px; }
            .guide-wrapper .box { background-image: none !important; box-shadow: none; padding: 5px 8px; }
            .guide-wrapper .box, .guide-wrapper .box span, .guide-wrapper .box i, .guide-wrapper .box .icon-label { font-size: 0.9em !important; }
            .guide-wrapper .decision-box { display: none; }
            .guide-wrapper .print-label { display: block; }
            .guide-wrapper .connector-svg text { font-size: 11px; fill: #000 !important; }
            .guide-wrapper .connector-svg path, .guide-wrapper .connector-svg line { stroke: #000 !important; }
        }
        /* --- END: STYLES FOR STATISTICAL TEST GUIDE --- */
        
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            font-size: 0.9em;
            color: #6c757d;
            border-top: 1px solid #e9ecef;
        }
    </style>
</head>
<body>

    <nav class="nav-bar">
        <ul>
            <li><a class="nav-link" data-page-target="0">Instructions</a></li>
            <li><a class="nav-link" data-page-target="0">1: Intro</a></li>
            <li><a class="nav-link" data-page-target="1">2: Data Types</a></li>
            <li><a class="nav-link" data-page-target="2">3: Designs</a></li>
            <li><a class="nav-link" data-page-target="3">4: Descriptive Stats</a></li>
            <li><a class="nav-link" data-page-target="4">5: Inferential Stats</a></li>
            <li><a class="nav-link" data-page-target="5">6: Pitfalls</a></li>
            <li><a class="nav-link" data-page-target="6">Summary</a></li>
            <li><a class="nav-link" data-page-target="7">Guide</a></li>
            <li class="glossary-nav-item">
                <button class="glossary-button" onclick="openModal('glossaryModal')">ðŸ“– Glossary</button>
            </li>
        </ul>
    </nav>

    <div class="container">
        <header>
            <h1>Quantitative Research in Health</h1>
            <p>An Interactive Guide for Students</p>
        </header>

        <div id="page-0" class="page-section">
            <section id="instructions" class="step">
                <h2>Welcome! How to Use This Simulation</h2>
                <p>This interactive guide is designed to walk you through the fundamentals of quantitative research. Hereâ€™s how to get the most out of it:</p>
                <ul>
                    <li><strong>Follow the Steps:</strong> Use the "Next Step" and "Back" buttons at the bottom of each section to navigate.</li>
                    <li><strong>Use the Navigation Bar:</strong> The bar at the top of the page will highlight your current section. You can also click it to jump to any section or to open the Glossary.</li>
                    <li><strong>Check Your Understanding:</strong> Each major section has a quiz. These are designed to reinforce your learning. Don't worry if you get an answer wrong â€“ you'll get a helpful hint to guide you.</li>
                    <li><strong>Explore the Examples:</strong> In the "Inferential Statistics" section, click the "View Example" buttons to see practical health research scenarios. The graphs are interactive!</li>
                </ul>
                <p>This simulation introduces key concepts you will apply in your upcoming workshops and practical classes. To get the most out of this resource, it is important to work through each step sequentially so you don't miss any foundational content. Feel free to revisit this simulation as many times as you need to review and solidify your understanding of these quantitative research concepts.</p>
            </section>

            <section id="step1" class="step">
                <h2>Step 1: What is Quantitative Research?</h2>
                <p>Quantitative research is a systematic approach used to gather and analyse <strong><em>numerical data</em></strong>. Its primary purpose is to test theories, identify patterns, establish facts, and make predictions about a topic.</p>
                <h3>Quantitative vs. Qualitative Research</h3>
                <p>To understand what quantitative research is, it's helpful to compare it with qualitative research, which deals with non-numerical data like interviews and observations.</p>
                <div class="comparison-grid">
                    <div class="comparison-box">
                        <h4>Quantitative Example</h4>
                        <p><strong>Research Question:</strong> "What is the average reduction in systolic blood pressure in patients taking Drug A compared to a placebo over three months?"</p>
                        <p><strong>Data:</strong> Blood pressure measurements (e.g., 140/90 mmHg), patient ages, dosage levels. The data is numerical and measurable.</p>
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCAxMDAgNjAiPjxyZWN0IHg9IjUiIHk9IjMwIiB3aWR0aD0iMTUiIGhlaWdodD0iMjUiIGZpbGw9IiMwMDVBOUMiLz48cmVjdCB4PSIyNSIgeT0iMTUiIHdpZHRoPSIxNSIgaGVpZGh0PSI0MCIgZmlsbD0iIzAwQjJiOSIvPjxyZWN0IHg9IjQ1IiB5PSIyMiIgd2lkdGg9IjE1IiBoZWlnaHQ9IjMzIiBmaWxsPSIjMDA1QTlDIi8+PHJlY3QgeD0iNjUiIHk9IjEwIiB3aWR0aD0iMTUiIGhlaWdodD0iNDUiIGZpbGw9IiMwMEIyQTkiLz48cGF0aCBkPSJNIDUgNTUgSCA5NSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiLz48L3N2Zz4=" alt="Bar chart icon">
                    </div>
                    <div class="comparison-box qualitative">
                        <h4>Qualitative Example</h4>
                        <p><strong>Research Question:</strong> "How do patients experience the side effects of living with chronic hypertension?"</p>
                        <p><strong>Data:</strong> In-depth interview transcripts, patient diaries, focus group discussions. The data is descriptive and explores experiences and perceptions.</p>
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCAxMDAgNjAiPjxwYXRoIGQ9Ik0gMjAgNSBDIDEwIDUgNSAxMCA1IDIwIEMgNSA0MCA0MCA0MCA0NSA0NSBMIDQwIDU1IEwgNTUgNDAgQyA3NSA0MCA3NSA1IDIwIDUiIGZpbGw9IiNmMGFlNGUiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PHBhdGggZD0iTSA4MCAxMCBDIDkwIDEwIDk1IDE1IDk1IDMwIEMgOTUgNTAgNjAgNTAgNTUgNTUgTCA2MCA2NSBMIDQ1IDUwIEMgMjUgNTAgMjUgMTAgODAgMTAiIGZpbGw9IiNlOWVjZWYiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9zdmc+" alt="Speech bubbles icon">
                    </div>
                </div>
                <div class="quiz-container">
                    <h3>Check Your Understanding</h3>
                    <p>Which of the following scenarios represents a <strong>quantitative</strong> research approach?</p>
                    <div class="scenario-options">
                        <label>
                            <input type="radio" name="q_step1" value="qualitative">
                            <div class="scenario-option">
                                <div class="text-icon">"I feel..."</div>
                                <p>Conducting in-depth interviews with 10 patients to explore their feelings about a new treatment.</p>
                            </div>
                        </label>
                        <label>
                            <input type="radio" name="q_step1" value="quantitative">
                            <div class="scenario-option">
                                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgdmlld0JveD0iMCAwIDY0IDY0Ij48cmVjdCB4PSI4IiB5PSI4IiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHJ4PSI0IiBmaWxsPSIjZTZlY2YxIi8+PHRleHQgeD0iMTgiIHk9IjQwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjRweCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiMwMDVBOUMiPjE8L3RleHQ+PHRleHQgeD0iMzIiIHk9IjQwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjRweCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiMwMEIyQTkiPjI8L3RleHQ+PHRleHQgeD0iNDYiIHk9IjQwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjRweCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiMwMDVBOUMiPjM8L3RleHQ+PC9zdmc+">
                                <p>Surveying 500 people and analysing their responses to see if age is related to exercise frequency.</p>
                            </div>
                        </label>
                    </div>
                    <button class="button" style="margin-top: 15px;" onclick="checkStep1Answer()">Check Answer</button>
                    <div id="feedback-step1" class="feedback" style="display: none;"></div>
                </div>
                <div class="navigation-buttons">
                    <span></span> <!-- Empty span for spacing -->
                    <button class="nav-button" onclick="changePage(1)">Next Step &rarr;</button>
                </div>
            </section>
        </div>

        <div id="page-1" class="page-section">
            <section id="step2" class="step">
                <h2>Step 2: Types of Data (Levels of Measurement)</h2>
                <p>Before you can analyse data, you must understand what kind of data you have. All data can be broadly divided into two main groups:</p>
                <ul>
                    <li><strong>Categorical Data:</strong> Represents characteristics or qualities that can be sorted into groups or categories. Think of them as labels. <em>(e.g., Gender, Blood Type, Yes/No answers).</em>
                        <ul class="coding-example">
                            <li>In quantitative research, these categories are converted into discrete numbers for analysis. For example, for the variable 'Gender', you might assign:
                                <ul>
                                    <li>Female = 1</li>
                                    <li>Male = 2</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><strong>Numerical (or Continuous) Data:</strong> Represents quantities that can be measured. These are numbers that you can perform meaningful mathematical operations on. <em>(e.g., Height, Age, Temperature).</em></li>
                </ul>
                <p>These two groups are further broken down into four specific levels of measurement, which determine the statistical tests you can use.</p>
                
                <div class="diagram-container">
                    <div class="diagram-column">
                        <div class="diagram-box main-category">Categorical Data</div>
                        <div class="diagram-fork">
                            <div class="diagram-box sub-category">
                                <img class="data-type-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj48Y2lyY2xlIGN4PSIxMiIgY3k9IjIwIiByPSI4IiBmaWxsPSIjMDA1QTlDIi8+PHJlY3QgeD0iMjIiIHk9IjEyIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSIyIiBmaWxsPSIjMDBCMkE5Ii8+PC9zdmc+">
                                <strong>Nominal</strong>
                            </div>
                            <div class="diagram-box sub-category">
                                <img class="data-type-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj48Y2lyY2xlIGN4PSIyMCIgY3k9IjIwIiByPSIxMiIgZmlsbD0iI2ZmYzEwNyIgc3Ryb2tlPSIjZWE5YzAwIiBzdHJva2Utd2lkdGg9IjIiLz48dGV4dCB4PSIyMCIgeT0iMjUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZHRoPSJib2xkIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj4xPC90ZXh0Pjwvc3ZnPg==">
                                <strong>Ordinal</strong>
                            </div>
                        </div>
                    </div>
                    <div class="diagram-column">
                        <div class="diagram-box main-category">Numerical Data</div>
                        <div class="diagram-fork">
                            <div class="diagram-box sub-category">
                                <img class="data-type-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj48cmVjdCB4PSIxNiIgeT0iNCIgd2lkdGg9IjgiIGhlaWdodD0iMjUiIHJ4PSI0IiBmaWxsPSIjZWVlIi8+PGNpcmNsZSBjeD0iMjAiIGN5PSIzMyIgcj0iNiIgZmlsbD0iI2VlZSIvPjxyZWN0IHg9IjE3IiB5PSIxNCIgd2lkdGg9IjYiIGhlaWdodD0iMTUiIGZpbGw9IiNkYzM1NDUiLz48Y2lyY2xlIGN4PSIyMCIgY3k9IjMzIiByPSI1IiBmaWxsPSIjZGMzNTQ1Ii8+PGxpbmUgeDE9IjI3IiB5MT0iMjUiIHgyPSIzMiIgeTI9IjI1IiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjI3IiB5MT0iMTciIHgyPSIzMiIgeTI9IjE3IiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjI3IiB5MT0iOSIgeDI9IjMyIiB5Mj0iOSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjwvc3ZnPg==">
                                <strong>Interval</strong>
                            </div>
                            <div class="diagram-box sub-category">
                                <img class="data-type-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj48cmVjdCB4PSI1IiB5PSIxNyIgd2lkdGg9IjMwIiBoZWlnaHQ9IjYiIHJ4PSIzIiBmaWxsPSIjZmZjMTA3Ii8+PGxpbmUgeDE9IjUiIHkxPSIxNyIgeDI9IjUiIHkyPSIyMyIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiLz48bGluZSB4MT0iMTIiIHkxPSIxNyIgeDI9IjEyIiB5Mj0iMjMiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9IjE5IiB5MT0iMTciIHgyPSIxOSIgeTI9IjIzIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIvPjxsaW5lIHgxPSIyNiIgeTE9IjE3IiB4Mj0iMjYiIHkyPSIyMyIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iMzUiIHkxPSIxNyIgeDI9IjM1IiB5Mj0iMjMiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+">
                                <strong>Ratio</strong>
                            </div>
                        </div>
                    </div>
                </div>

                <h3>Categorical Data</h3>
                <ul class="data-list">
                    <li>
                        <img class="list-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj48Y2lyY2xlIGN4PSIxMiIgY3k9IjIwIiByPSI4IiBmaWxsPSIjMDA1QTlDIi8+PHJlY3QgeD0iMjIiIHk9IjEyIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSIyIiBmaWxsPSIjMDBCMkE5Ii8+PC9zdmc+">
                        <div><strong>Nominal:</strong> Data that can be sorted into categories which have no meaningful order or rank.
                        <br><em>Health Examples: Blood Type (A, B, AB, O), Gender (Male, Female, Other), Smoker (Yes/No).</em>
                        <div class="coding-example">Numerical coding: Smoker (Yes = 1, No = 2)</div>
                        </div>
                    </li>
                    <li>
                        <img class="list-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj48Y2lyY2xlIGN4PSIyMCIgY3k9IjIwIiByPSIxMiIgZmlsbD0iI2ZmYzEwNyIgc3Ryb2tlPSIjZWE5YzAwIiBzdHJva2Utd2lkdGg9IjIiLz48dGV4dCB4PSIyMCIgeT0iMjUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZHRoPSJib2xkIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj4xPC90ZXh0Pjwvc3ZnPg==">
                        <div><strong>Ordinal:</strong> Data that can be sorted into categories that have a meaningful order or rank, but the distance between the ranks is not uniform or measurable.
                        <br><em>Health Examples: Pain Scale (Mild, Moderate, Severe), Cancer Stage (I, II, III, IV), Level of Agreement (Disagree, Neutral, Agree).</em>
                        <div class="coding-example">Numerical coding: Disagree = 1, Neutral = 2, Agree = 3</div>
                        </div>
                    </li>
                </ul>
                <h3>Numerical (Continuous) Data</h3>
                <ul class="data-list">
                    <li>
                        <img class="list-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj48cmVjdCB4PSIxNiIgeT0iNCIgd2lkdGg9IjgiIGhlaWdodD0iMjUiIHJ4PSI0IiBmaWxsPSIjZWVlIi8+PGNpcmNsZSBjeD0iMjAiIGN5PSIzMyIgcj0iNiIgZmlsbD0iI2VlZSIvPjxyZWN0IHg9IjE3IiB5PSIxNCIgd2lkdGg9IjYiIGhlaWdodD0iMTUiIGZpbGw9IiNkYzM1NDUiLz48Y2lyY2xlIGN4PSIyMCIgY3k9IjMzIiByPSI1IiBmaWxsPSIjZGMzNTQ1Ii8+PGxpbmUgeDE9IjI3IiB5MT0iMjUiIHgyPSIzMiIgeTI9IjI1IiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjI3IiB5MT0iMTciIHgyPSIzMiIgeTI9IjE3IiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PGxpbmUgeDE9IjI3IiB5MT0iOSIgeDI9IjMyIiB5Mj0iOSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIvPjwvc3ZnPg==">
                        <div><strong>Interval:</strong> Data that is ordered and has a uniform, measurable distance between values, but it lacks a "true zero." A true zero means the complete absence of the thing being measured.
                        <br><em>Health Examples: Temperature in Celsius/Fahrenheit (0Â°C is a temperature, not the absence of heat), IQ Score.</em></div>
                    </li>
                    <li>
                        <img class="list-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj48cmVjdCB4PSI1IiB5PSIxNyIgd2lkdGg9IjMwIiBoZWlnaHQ9IjYiIHJ4PSIzIiBmaWxsPSIjZmZjMTA3Ii8+PGxpbmUgeDE9IjUiIHkxPSIxNyIgeDI9IjUiIHkyPSIyMyIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiLz48bGluZSB4MT0iMTIiIHkxPSIxNyIgeDI9IjEyIiB5Mj0iMjMiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIxIi8+PGxpbmUgeDE9IjE5IiB5MT0iMTciIHgyPSIxOSIgeTI9IjIzIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIvPjxsaW5lIHgxPSIyNiIgeTE9IjE3IiB4Mj0iMjYiIHkyPSIyMyIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjEiLz48bGluZSB4MT0iMzUiIHkxPSIxNyIgeDI9IjM1IiB5Mj0iMjMiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+">
                        <div><strong>Ratio:</strong> Data that is ordered, has a uniform distance between values, and has a true zero. This is the most informative type of data.
                        <br><em>Health Examples: Height, Weight, Blood Pressure (a reading of 0 means no pressure), Heart Rate, Age.</em></div>
                    </li>
                </ul>
                <div class="quiz-container">
                    <h3>Check Your Understanding: Data Types</h3>
                    <div id="quiz-data-1" class="quiz-question">
                        <p>1. A study records the year of birth for a group of participants (e.g., 1985, 1992, 2001). What level of measurement is this?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q_data_1" value="Ordinal"> Ordinal</label>
                            <label><input type="radio" name="q_data_1" value="Interval"> Interval</label>
                            <label><input type="radio" name="q_data_1" value="Ratio"> Ratio</label>
                        </div>
                        <button class="button" onclick="checkDataAnswer('q_data_1', 'Interval', 'quiz-data-2')">Check Answer</button>
                        <div id="feedback-q_data_1" class="feedback" style="display: none;"></div>
                    </div>
                    <div id="quiz-data-2" class="quiz-question" style="display: none;">
                        <p>2. Patients rate their agreement with a statement on a scale from 'Strongly Disagree' to 'Strongly Agree'. What level of measurement is this?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q_data_2" value="Nominal"> Nominal</label>
                            <label><input type="radio" name="q_data_2" value="Ordinal"> Ordinal</label>
                            <label><input type="radio" name="q_data_2" value="Interval"> Interval</label>
                        </div>
                        <button class="button" onclick="checkDataAnswer('q_data_2', 'Ordinal', 'quiz-data-3')">Check Answer</button>
                        <div id="feedback-q_data_2" class="feedback" style="display: none;"></div>
                    </div>
                    <div id="quiz-data-3" class="quiz-question" style="display: none;">
                        <p>3. A nurse measures the time in seconds it takes for a patient to walk 10 metres. What level of measurement is the time variable?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q_data_3" value="Ordinal"> Ordinal</label>
                            <label><input type="radio" name="q_data_3" value="Interval"> Interval</label>
                            <label><input type="radio" name="q_data_3" value="Ratio"> Ratio</label>
                        </div>
                        <button class="button" onclick="checkDataAnswer('q_data_3', 'Ratio', 'quiz-data-4')">Check Answer</button>
                        <div id="feedback-q_data_3" class="feedback" style="display: none;"></div>
                    </div>
                    <div id="quiz-data-4" class="quiz-question" style="display: none;">
                        <p>4. A researcher categorises participants based on their marital status (e.g., Single, Married, Divorced). What level of measurement is this?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q_data_4" value="Nominal"> Nominal</label>
                            <label><input type="radio" name="q_data_4" value="Ordinal"> Ordinal</label>
                            <label><input type="radio" name="q_data_4" value="Ratio"> Ratio</label>
                        </div>
                        <button class="button" onclick="checkDataAnswer('q_data_4', 'Nominal', null)">Check Answer</button>
                        <div id="feedback-q_data_4" class="feedback" style="display: none;"></div>
                    </div>
                </div>
                <div class="navigation-buttons">
                    <button class="nav-button back" onclick="changePage(-1)">&larr; Back</button>
                    <button class="nav-button" onclick="changePage(1)">Next Step &rarr;</button>
                </div>
            </section>
        </div>

        <div id="page-2" class="page-section">
            <section id="step3" class="step">
                <h2>Step 3: Research Designs & Data Collection</h2>
                <h3>Research Designs</h3>
                <p>The research design is the blueprint for answering your research question. The main quantitative designs are:</p>
                <ul>
                    <li><strong>Descriptive:</strong> Aims to observe and describe the characteristics of a population or phenomenon as it naturally occurs. (e.g., a survey to find the prevalence of diabetes in a community).</li>
                    <li><strong>Correlational:</strong> Examines the relationship between two or more variables without any intervention from the researcher. (e.g., a study investigating the link between hours of sleep and exam scores).</li>
                    <li><strong>Quasi-Experimental:</strong> Involves an intervention or treatment but lacks the random assignment of participants to groups. Often used in real-world settings where randomisation isn't feasible. (e.g., comparing patient outcomes in a hospital that implemented a new protocol with one that did not).</li>
                    <li><strong>Experimental (e.g., RCT):</strong> The "gold standard" for determining cause-and-effect. Involves an intervention and, crucially, the <strong>random assignment</strong> of participants to a treatment or control group.</li>
                </ul>
                <h3>Paired vs. Unpaired Study Designs</h3>
                <p>Within these designs, it's important to consider how groups are compared. This choice affects which statistical test you will use.</p>
                <ul>
                    <li><strong>Unpaired (Independent Groups) Design:</strong> Data is collected from two or more separate, independent groups of participants. The individuals in one group have no connection to the individuals in the other group.
                        <br><em>Example: To test a new drug, Group A receives the drug and Group B receives a placebo. The two groups are composed of different people.</em>
                    </li>
                    <li><strong>Paired (Dependent Groups) Design:</strong> Data is collected from the same group of participants at different points in time (a "repeated measures" design) or from participants who have been deliberately matched into pairs based on key characteristics (a "matched pairs" design).
                        <br><em>Example: A patient's blood pressure is measured before they start a new medication and then again after three months. The "before" and "after" measurements are paired for each patient.</em>
                    </li>
                </ul>
                <h3>Data Collection Methods</h3>
                <p>Once a design is chosen, data is collected using methods like:</p>
                <ul>
                    <li><strong>Surveys and Questionnaires:</strong> Using structured questions with fixed-response options to gather data from a large number of people.</li>
                    <li><strong>Measurements:</strong> Using instruments to collect objective, numerical data like blood pressure, heart rate, cholesterol levels, weight, height, etc.</li>
                    <li><strong>Structured Observation:</strong> Systematically observing and counting specific behaviours or events.</li>
                    <li><strong>Analysis of Existing Data:</strong> Using pre-existing numerical data from sources like patient records or public health registries.</li>
                </ul>
                <div class="quiz-container">
                    <h3>Check Your Understanding: Match the Design</h3>
                    <p>Drag the research design term from the left and drop it onto its correct definition on the right.</p>
                    <div class="drag-drop-container">
                        <div class="drag-options">
                            <div id="drag-rct" class="draggable" draggable="true">Experimental (RCT)</div>
                            <div id="drag-corr" class="draggable" draggable="true">Correlational</div>
                            <div id="drag-paired" class="draggable" draggable="true">Paired Design</div>
                            <div id="drag-unpaired" class="draggable" draggable="true">Unpaired Design</div>
                        </div>
                        <div class="drop-scenarios">
                            <div id="drop-s3-1" class="drop-zone" data-answer="drag-corr"><p>Examines the relationship between two variables without researcher intervention.</p></div>
                            <div id="drop-s3-2" class="drop-zone" data-answer="drag-unpaired"><p>Compares two separate, independent groups of participants (e.g., treatment vs. placebo).</p></div>
                            <div id="drop-s3-3" class="drop-zone" data-answer="drag-rct"><p>The "gold standard" for cause-and-effect, using an intervention and random assignment.</p></div>
                            <div id="drop-s3-4" class="drop-zone" data-answer="drag-paired"><p>Collects data from the same participants at different times (e.g., before and after).</p></div>
                        </div>
                    </div>
                </div>
                <div class="navigation-buttons">
                    <button class="nav-button back" onclick="changePage(-1)">&larr; Back</button>
                    <button class="nav-button" onclick="changePage(1)">Next Step &rarr;</button>
                </div>
            </section>
        </div>

        <div id="page-3" class="page-section">
            <section id="step4" class="step">
                <h2>Step 4: Analysing Data - Descriptive Statistics</h2>
                <p>Once you have your numerical data, the first step is to summarise it. <strong>Descriptive statistics</strong> are used to describe the basic features of the data in a study. They provide simple summaries about the sample and the measures.</p>
                <h3>Key Measures of Descriptive Statistics:</h3>
                <ul>
                    <li><strong>Mean:</strong> The average of all values.</li>
                    <li><strong>Median:</strong> The middle value in an ordered dataset.</li>
                    <li><strong>Mode:</strong> The most frequently occurring value.</li>
                    <li><strong>Standard Deviation (SD):</strong> A measure of how spread out the data points are from the mean.</li>
                    <li><strong>Standard Error of the Mean (SEM):</strong> Estimates how far the sample mean is likely to be from the true population mean. It is always smaller than the SD.</li>
                    <li><strong>Range:</strong> The difference between the highest and lowest values.</li>
                </ul>
                
                <h3>Data Distribution and Skewness</h3>
                <p>Beyond central tendency, the <strong>shape</strong> of your data's distribution is crucial. It tells you if your data is symmetrical or lopsided, which can affect your choice of statistical tests.</p>
                <ul>
                    <li><strong>Normal Distribution (Symmetrical):</strong> Data is evenly distributed around the centre, forming a "bell curve." In a perfect normal distribution, the mean, median, and mode are all the same. Many statistical tests (called <strong>parametric tests</strong>) assume your data is approximately normal.</li>
                    <li><strong>Skewed Distribution (Asymmetrical):</strong> Data is not evenly distributed. Extreme values (outliers) in one direction pull the mean away from the centre. For skewed data, we often use different tests (called <strong>non-parametric tests</strong>).</li>
                </ul>
                <div class="skew-diagrams">
                    <div>
                        <svg width="100%" height="150" viewBox="0 0 120 80">
                            <path d="M 10 70 Q 60 0, 110 70" stroke="#005A9C" stroke-width="2" fill="rgba(0,90,156,0.1)"/>
                            <line x1="60" y1="10" x2="60" y2="70" stroke="#dc3545" stroke-width="1.5"/>
                            <text x="60" y="78" font-size="8" text-anchor="middle">Mean=Median=Mode</text>
                        </svg>
                        <strong>Normal Distribution</strong>
                    </div>
                    <div>
                        <svg width="100%" height="150" viewBox="0 0 120 80">
                            <path d="M 10 70 Q 20 0, 110 70" stroke="#005A9C" stroke-width="2" fill="rgba(0,90,156,0.1)"/>
                            <line x1="30" y1="10" x2="30" y2="70" stroke="#ffc107" stroke-width="1.5" stroke-dasharray="2,2"/>
                            <line x1="45" y1="25" x2="45" y2="70" stroke="#28a745" stroke-width="1.5" stroke-dasharray="2,2"/>
                            <line x1="60" y1="40" x2="60" y2="70" stroke="#dc3545" stroke-width="1.5"/>
                        </svg>
                        <strong>Positive Skew (Right)</strong>
                    </div>
                    <div>
                        <svg width="100%" height="150" viewBox="0 0 120 80">
                            <path d="M 10 70 Q 100 0, 110 70" stroke="#005A9C" stroke-width="2" fill="rgba(0,90,156,0.1)"/>
                            <line x1="90" y1="10" x2="90" y2="70" stroke="#ffc107" stroke-width="1.5" stroke-dasharray="2,2"/>
                            <line x1="75" y1="25" x2="75" y2="70" stroke="#28a745" stroke-width="1.5" stroke-dasharray="2,2"/>
                            <line x1="60" y1="40" x2="60" y2="70" stroke="#dc3545" stroke-width="1.5"/>
                        </svg>
                        <strong>Negative Skew (Left)</strong>
                    </div>
                </div>
                <div class="legend-container">
                    <div class="legend-item"><span class="legend-line mean"></span> Mean</div>
                    <div class="legend-item"><span class="legend-line median"></span> Median</div>
                    <div class="legend-item"><span class="legend-line mode"></span> Mode</div>
                </div>

                <h4 style="margin-top: 30px;">Assessing Normality</h4>
                <p>While visually inspecting a distribution for skewness is a good first step, researchers use more formal methods to decide if data is "normal enough" for <strong>parametric tests</strong> (like t-tests and ANOVA). Common methods include:</p>
                <ul>
                    <li><strong>Visual Checks:</strong> Creating a <strong>histogram</strong> to see if it resembles a bell curve.</li>
                    <li><strong>Descriptive Statistics:</strong> The descriptive statistic of <strong>skewness</strong> itself provides a numerical value indicating how symmetrical the data is (a value close to 0 suggests symmetry).</li>
                    <li><strong>Formal Tests:</strong> Using statistical tests designed specifically to check for normality, such as the <strong>Shapiro-Wilk test</strong>.</li>
                </ul>
                
                <div class="sandbox-container">
                    <h4>Practice Sandbox: Explore Data Distribution</h4>
                    <p>This activity lets you see how adding data points (especially outliers) affects descriptive statistics and the shape of the data.</p>
                    <div class="sandbox-flex">
                        <div class="sandbox-controls">
                            <p><strong>1. Current Data:</strong></p>
                            <p id="sandboxDataset" style="font-weight:bold; color: var(--primary-color); word-break: break-all;"></p>
                            <p>The initial descriptive statistics for this dataset are displayed in the results box. Notice how the mean and median are close, suggesting a symmetrical distribution.</p>
                            <hr style="margin: 20px 0;">
                            <p><strong>2. Add or Reset Data:</strong><br>Enter a value (e.g., an outlier like 160) and click 'Add'. You can add multiple values to see their combined effect. After adding a value, check the results box to see how the descriptive statistics have been altered. Use 'Reset' to return to the original dataset.</p>
                            <label for="outlierInput">Add Value:</label>
                            <input type="number" id="outlierInput" value="160">
                            <button id="recalculate" class="button">Add</button>
                            <button id="resetData" class="button back" style="margin-left: 10px;">Reset</button>
                        </div>
                        <div class="sandbox-graph">
                            <canvas id="sandboxChart"></canvas>
                        </div>
                    </div>
                    <div id="sandboxResults" class="sandbox-results" style="display: none;"></div>
                </div>

                <div class="quiz-container">
                    <h3>Check Your Understanding</h3>
                    <div id="quiz-q1" class="quiz-question">
                        <p>1. A study reports the ages of 5 patients as: 25, 30, 35, 40, 45. What is the <strong>Mean</strong> age?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q1" value="30"> 30</label>
                            <label><input type="radio" name="q1" value="35"> 35</label>
                            <label><input type="radio" name="q1" value="40"> 40</label>
                        </div>
                        <button class="button" onclick="checkAndUnlock('q1', '35', 'quiz-q2')">Check Answer</button>
                        <div id="feedback-q1" class="feedback" style="display: none;"></div>
                    </div>
                    <div id="quiz-q2" class="quiz-question" style="display: none;">
                        <p>2. Consider patient recovery times in days: [5, 7, 4, 5, 20, 6, 5]. Which measure is best to use if you want to avoid the influence of the outlier (20)?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q2" value="mean"> Mean</label>
                            <label><input type="radio" name="q2" value="median"> Median</label>
                            <label><input type="radio" name="q2" value="mode"> Mode</label>
                        </div>
                        <button class="button" onclick="checkAndUnlock('q2', 'median', 'quiz-q3')">Check Answer</button>
                        <div id="feedback-q2" class="feedback" style="display: none;"></div>
                    </div>
                    <div id="quiz-q3" class="quiz-question" style="display: none;">
                        <p>3. Two groups of patients have the same mean blood pressure. Group A has a <strong>Standard Deviation (SD)</strong> of 5, and Group B has an SD of 15. What does this tell us?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q3" value="a"> The blood pressure readings in Group A are more spread out than in Group B.</label>
                            <label><input type="radio" name="q3" value="b"> The blood pressure readings in Group A are more clustered around the mean than in Group B.</label>
                            <label><input type="radio" name="q3" value="c"> Group B has a higher average blood pressure.</label>
                        </div>
                        <button class="button" onclick="checkAndUnlock('q3', 'b', 'quiz-q4')">Check Answer</button>
                        <div id="feedback-q3" class="feedback" style="display: none;"></div>
                    </div>
                    <div id="quiz-q4" class="quiz-question" style="display: none;">
                        <p>4. A researcher wants to indicate how precise their estimate of the population's average height is, based on their sample. Which measure is most appropriate?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q4" value="sd"> Standard Deviation (SD)</label>
                            <label><input type="radio" name="q4" value="range"> Range</label>
                            <label><input type="radio" name="q4" value="sem"> Standard Error of the Mean (SEM)</label>
                        </div>
                        <button class="button" onclick="checkAndUnlock('q4', 'sem', 'quiz-q5')">Check Answer</button>
                        <div id="feedback-q4" class="feedback" style="display: none;"></div>
                    </div>
                    <div id="quiz-q5" class="quiz-question" style="display: none;">
                        <p>5. In a dataset of hospital patient incomes, a few millionaire patients are included with a majority of patients having a modest income. How would this affect the data distribution?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q5" value="neg"> The data will be negatively skewed (skewed left).</label>
                            <label><input type="radio" name="q5" value="pos"> The data will be positively skewed (skewed right).</label>
                            <label><input type="radio" name="q5" value="norm"> The data will have a normal distribution.</label>
                        </div>
                        <button class="button" onclick="checkAndUnlock('q5', 'pos', null)">Check Answer</button>
                        <div id="feedback-q5" class="feedback" style="display: none;"></div>
                    </div>
                </div>
                <div class="navigation-buttons">
                    <button class="nav-button back" onclick="changePage(-1)">&larr; Back</button>
                    <button class="nav-button" onclick="changePage(1)">Next Step &rarr;</button>
                </div>
            </section>
        </div>

        <div id="page-4" class="page-section">
            <section id="step5" class="step">
                <h2>Step 5: Testing Hypotheses - Inferential Statistics</h2>
                <p>While descriptive statistics summarise your data, <strong>inferential statistics</strong> help you draw conclusions and make predictions about a larger population based on your sample data. This is where we test our research hypotheses.</p>
                
                <h3>Two Main Goals of Inferential Statistics</h3>
                <p>Your research question will generally fall into one of two main categories, which helps guide your choice of statistical test:</p>
                <ul>
                    <li><strong>1. Testing for Differences between Groups:</strong> This is used when you want to compare the average score of a variable between two or more distinct groups.
                        <br><em>Example Question: "Do patients who receive Drug A have a lower average blood pressure than patients who receive a placebo?"</em>
                    </li>
                    <li><strong>2. Testing for Relationships between Variables:</strong> This is used when you want to see how two or more variables are connected or if one can predict another.
                        <br><em>Example Question: "Is there a relationship between a person's age and their cholesterol level?"</em>
                    </li>
                </ul>

                <div class="refresher-section">
                    <h3>Formulating a Testable Hypothesis (A Quick Refresher)</h3>
                    <p>Before you can test anything, you need a clear research question that can be turned into a testable hypothesis. A hypothesis is a specific, clear, and testable statement about the possible outcome of a study.</p>
                    <ul>
                        <li><strong>Research Question:</strong> A broad question about something you want to know (e.g., "Does our new health programme improve patient outcomes?").</li>
                        <li><strong>Alternative Hypothesis (H1 or Ha):</strong> This is your prediction of what will happen. It states that there *is* an effect or a relationship (e.g., "Patients in the new health programme will have significantly lower readmission rates.").</li>
                        <li><strong>Null Hypothesis (H0):</strong> This is the opposite of the alternative hypothesis. It states that there is *no* effect or relationship (e.g., "There is no difference in readmission rates between patients in the new programme and those not in the programme.").</li>
                    </ul>
                    <p>In research, we use statistical tests to see if we have enough evidence to <strong>reject the null hypothesis (H0)</strong> in favour of the alternative hypothesis (H1).</p>
                </div>

                <h3>What is Statistical Significance?</h3>
                <p>In hypothesis testing, we want to know if our results are "statistically significant." This is determined by the <strong>p-value</strong>.</p>
                <ul>
                    <li>The <strong>p-value</strong> is the probability that the observed result occurred by random chance, assuming the null hypothesis is true.</li>
                    <li>A common threshold for significance is <strong>p â‰¤ 0.05</strong>. This value means there is a 5% (or less) probability that the results you observed are due to random chance. Conversely, this is often interpreted as having 95% confidence that the difference or relationship you found is a real effect.</li>
                    <li>If the p-value is at or below 0.05, we conclude that the result is statistically significant. It is unlikely to have occurred by chance, so we <strong>reject the null hypothesis</strong>.</li>
                </ul>

                <h3>Key Inferential Statistical Methods</h3>
                <p>This section provides a high-level overview of common statistical tests. The first step in choosing the right analysis is to match your research goal with the core purpose of a test. For each test below, focus on its main purpose and the type of research question it answers. More detailed information on test variations based on study design and data distribution will be explored in the next section.</p>
                
                <div class="inferential-method">
                    <div class="inferential-method-desc">
                        <div class="test-title-container">
                            <img class="test-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGxpbmUgeDE9IjUiIHkxPSI1MCIgeDI9IjQ1IiB5Mj0iNTAiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMTAiIHk9IjI1IiB3aWR0aD0iMTIiIGhlaWdodD0iMjUiIGZpbGw9IiMwMDVBOUMiLz48cmVjdCB4PSIyOCIgeT0iMTUiIHdpZHRoPSIxMiIgaGVpZGh0PSIzNSIgZmlsbD0iIzAwQjJiOSIvPjwvc3ZnPg==" alt="t-test icon">
                            <h4>t-test</h4>
                        </div>
                        <div class="test-details">
                            <h5>Purpose</h5>
                            <p>To compare the means of <strong>two</strong> groups to determine if there is a statistically significant difference between them.</p>
                            <h5>An Example</h5>
                            <p>A researcher wants to know if a new blood pressure medication is effective. They compare the average systolic blood pressure of a group taking the medication to a group taking a placebo.</p>
                        </div>
                    </div>
                </div>

                <div class="inferential-method">
                    <div class="inferential-method-desc">
                        <div class="test-title-container">
                            <img class="test-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGxpbmUgeDE9IjIiIHkxPSI1MCIgeDI9IjQ4IiB5Mj0iNTAiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iNSIgeT0iMzAiIHdpZHRoPSIxMCIgaGVpZGh0PSIyMCIgZmlsbD0iIzAwNUE5QyIvPjxyZWN0IHg9IjIwIiB5PSIxNSIgd2lkdGg9IjEwIiBoZWlnaHQ9IjM1IiBmaWxsPSIjMDBCMkE5Ii8+PHJlY3QgeD0iMzUiIHk9IjI1IiB3aWR0aD0iMTAiIGhlaWdodD0iMjUiIGZpbGw9IiNGRkMxMDciLz48L3N2Zz4=" alt="ANOVA icon">
                            <h4>ANOVA (Analysis of Variance)</h4>
                        </div>
                        <div class="test-details">
                            <h5>Purpose</h5>
                            <p>To compare the means of <strong>three or more</strong> groups to see if at least one group is significantly different from the others. It's an extension of the t-test.</p>
                            <h5>An Example</h5>
                            <p>A physical therapist wants to compare the effectiveness of three different rehabilitation programmes on patient recovery time. They compare the average recovery days for each of the three programme groups.</p>
                        </div>
                    </div>
                </div>
                
                <div class="inferential-method">
                    <div class="inferential-method-desc">
                        <div class="test-title-container">
                            <img class="test-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PHJlY3QgeD0iNSIgeT0iNSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjY2ZlMmZmIiBzdHJva2U9IiMwMDVBOUMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHJlY3QgeD0iMjUiIHk9IjUiIHdpZHRoPSIyMCIgaGVpZGh0PSIyMCIgZmlsbD0iI2NmZjRmYyIgc3Ryb2tlPSIjMDBCMkE5IiBzdHJva2Utd2lkdGg9IjEuNSIvPjxyZWN0IHg9IjUiIHk9IjI1IiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9IiNjZmY0ZmMiIHN0cm9rZT0iIzAwQjJiOSIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cmVjdCB4PSIyNSIgeT0iMjUiIHdpZHRoPSIyMCIgaGVpZGh0PSIyMCIgZmlsbD0iI2NmZTJmZiIgc3Ryb2tlPSIjMDA1QTlDIiBzdHJva2Utd2lkdGg9IjEuNSIvPjwvc3ZnPg==" alt="Chi-Squared icon">
                            <h4>Chi-Squared (Ï‡Â²) Test</h4>
                        </div>
                        <div class="test-details">
                            <h5>Purpose</h5>
                            <p>To determine if there is a statistically significant association between two <strong>categorical</strong> variables. It compares the observed frequencies in categories to the frequencies that would be expected if there were no relationship.</p>
                            <h5>An Example</h5>
                            <p>A public health researcher wants to know if there is an association between smoking status (Smoker vs. Non-smoker) and the incidence of a certain respiratory illness (Yes vs. No).</p>
                        </div>
                    </div>
                </div>

                <div class="inferential-method">
                    <div class="inferential-method-desc">
                        <div class="test-title-container">
                            <img class="test-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGNpcmNsZSBjeD0iMTAiIGN5PSI0MCIgcj0iMyIgZmlsbD0iIzAwNUE5QyIvPjxjaXJjbGUgY3g9IjE4IiBjeT0iMzIiIHI9IjMiIGZpbGw9IiMwMDVBOUMiLz48Y2lyY2xlIGN4PSIyNSIgY3k9IjI1IiByPSIzIiBmaWxsPSIjMDA1QTlDIi8+PGNpcmNsZSBjeD0iMzUiIGN5PSIxOCIgcj0iMyIgZmlsbD0iIzAwNUE5QyIvPjxjaXJjbGUgY3g9IjQyIiBjeT0iMTAiIHI9IjMiIGZpbGw9IiMwMDVBOUMiLz48bGluZSB4MT0iNSIgeTE9IjQ1IiB4Mj0iNDUiIHkyPSI1IiBzdHJva2U9IiNkYzM1NDUiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==" alt="Correlation icon">
                            <h4>Correlation</h4>
                        </div>
                        <div class="test-details">
                            <h5>Purpose</h5>
                            <p>To measure the strength and direction of a linear relationship between two <strong>numerical</strong> variables. The result is a correlation coefficient (r) ranging from -1 (perfect negative correlation) to +1 (perfect positive correlation), with 0 indicating no correlation.</p>
                            <h5>An Example</h5>
                            <p>A nutritionist investigates whether there is a relationship between a person's daily calorie intake and their Body Mass Index (BMI).</p>
                        </div>
                    </div>
                </div>

                <div class="inferential-method">
                    <div class="inferential-method-desc">
                        <div class="test-title-container">
                            <img class="test-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGNpcmNsZSBjeD0iMTAiIGN5PSI0MCIgcj0iMyIgZmlsbD0iIzAwNUE5QyIvPjxjaXJjbGUgY3g9IjE4IiBjeT0iMzIiIHI9IjMiIGZpbGw9IiMwMDVBOUMiLz48Y2lyY2xlIGN4PSIyNSIgY3k9IjI1IiByPSIzIiBmaWxsPSIjMDA1QTlDIi8+PGNpcmNsZSBjeD0iMzUiIGN5PSIxOCIgcj0iMyIgZmlsbD0iIzAwNUE5QyIvPjxjaXJjbGUgY3g9IjQyIiBjeT0iMTAiIHI9IjMiIGZpbGw9IiMwMDVBOUMiLz48bGluZSB4MT0iNSIgeTE9IjQ1IiB4Mj0iNDUiIHkyPSI1IiBzdHJva2U9IiNkYzM1NDUiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==" alt="Regression icon">
                            <h4>Regression Analysis</h4>
                        </div>
                        <div class="test-details">
                            <h5>Purpose</h5>
                            <p>To predict the value of a numerical outcome (the dependent variable) based on the values of one or more predictor variables (the independent variables). It goes beyond correlation by creating a model or formula.</p>
                            <h5>An Example</h5>
                            <p>A clinician wants to build a model to predict a patient's expected recovery time (in days) based on their age, pre-surgery fitness level, and the duration of their surgery.</p>
                        </div>
                    </div>
                </div>
                
                <div class="quiz-container">
                    <h3>Check Your Understanding</h3>
                    <p>Drag the statistical test from the left and drop it onto the matching research scenario on the right.</p>
                    <div class="drag-drop-container">
                        <div class="drag-options">
                            <div id="drag-ttest" class="draggable" draggable="true">t-test</div>
                            <div id="drag-anova" class="draggable" draggable="true">ANOVA</div>
                            <div id="drag-chi" class="draggable" draggable="true">Chi-Squared Test</div>
                            <div id="drag-corr" class="draggable" draggable="true">Correlation</div>
                            <div id="drag-reg" class="draggable" draggable="true">Regression</div>
                        </div>
                        <div class="drop-scenarios">
                            <div id="drop-1" class="drop-zone" data-answer="drag-ttest"><p>Comparing average exam scores between two groups: those who used a study app and those who did not.</p></div>
                            <div id="drop-2" class="drop-zone" data-answer="drag-chi"><p>Investigating an association between categorical variables: blood type (A, B, AB, O) and allergy status (Yes/No).</p></div>
                            <div id="drop-3" class="drop-zone" data-answer="drag-anova"><p>Comparing the mean reduction in blood pressure across four different new medications.</p></div>
                            <div id="drop-4" class="drop-zone" data-answer="drag-corr"><p>Determining if there is a relationship between two continuous variables: a patient's age and their cholesterol level.</p></div>
                            <div id="drop-5" class="drop-zone" data-answer="drag-reg"><p>Building a model to predict a patient's length of hospital stay based on their age, number of comorbidities, and initial severity score.</p></div>
                        </div>
                    </div>
                </div>
                
                <h3>Which Statistical Test? A Selection Guide</h3>
                <p>To choose the right statistical method, you need to consider your research question, the data type and its distribution, and key research design elements like the number of groups being investigated and whether they are paired or unpaired. You can use the following guided questions to help determine the most appropriate test for your research.</p>
                <div class="selection-guide">
                    <ol>
                        <li class="guide-q1">1. Is the research question/hypothesis looking at DIFFERENCES between groups OR RELATIONSHIPS between variables?</li>
                        <li class="guide-q2">2. What is the data type of your outcome variable?</li>
                        <li class="guide-q3">3. Does your data (numerical data only) have a normal distribution? <br><em>(How do we know? By looking at a histogram, the skewness measure, or using a specific statistical test for normality.)</em></li>
                        <li class="guide-q4">4. Is your study design paired or unpaired?</li>
                        <li class="guide-q5">5. Statistical Test? for 2 groups/time points OR for >2 groups/time points</li>
                    </ol>
                </div>
                <p>Now, let's apply this knowledge. The examples below not only present a research scenario but also detail the specific <strong>test variations</strong> based on study design (e.g., paired vs. unpaired) and data distribution (parametric vs. non-parametric). As you click 'View Example' for each, use the selection guide questions above to see how they lead to the correct statistical choice in practice.</p>
                
                <div class="example-link">
                    <div class="example-link-title">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGxpbmUgeDE9IjUiIHkxPSI1MCIgeDI9IjQ1IiB5Mj0iNTAiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMTAiIHk9IjI1IiB3aWR0aD0iMTIiIGhlaWdodD0iMjUiIGZpbGw9IiMwMDVBOUMiLz48cmVjdCB4PSIyOCIgeT0iMTUiIHdpZHRoPSIxMiIgaGVpZGh0PSIzNSIgZmlsbD0iIzAwQjJiOSIvPjwvc3ZnPg==" alt="t-test icon">
                        <h4>t-test Example</h4>
                    </div>
                    <button class="button" onclick="openModal('tTestModal')">View Example</button>
                </div>
                <div class="example-link">
                    <div class="example-link-title">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGxpbmUgeDE9IjIiIHkxPSI1MCIgeDI9IjQ4IiB5Mj0iNTAiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iNSIgeT0iMzAiIHdpZHRoPSIxMCIgaGVpZGh0PSIyMCIgZmlsbD0iIzAwNUE5QyIvPjxyZWN0IHg9IjIwIiB5PSIxNSIgd2lkdGg9IjEwIiBoZWlnaHQ9IjM1IiBmaWxsPSIjMDBCMkE5Ii8+PHJlY3QgeD0iMzUiIHk9IjI1IiB3aWR0aD0iMTAiIGhlaWdodD0iMjUiIGZpbGw9IiNGRkMxMDciLz48L3N2Zz4=" alt="ANOVA icon">
                        <h4>ANOVA Example</h4>
                    </div>
                    <button class="button" onclick="openModal('anovaModal')">View Example</button>
                </div>
                <div class="example-link">
                    <div class="example-link-title">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PHJlY3QgeD0iNSIgeT0iNSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjY2ZlMmZmIiBzdHJva2U9IiMwMDVBOUMiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHJlY3QgeD0iMjUiIHk9IjUiIHdpZHRoPSIyMCIgaGVpZGh0PSIyMCIgZmlsbD0iI2NmZjRmYyIgc3Ryb2tlPSIjMDBCMkE5IiBzdHJva2Utd2lkdGg9IjEuNSIvPjxyZWN0IHg9IjUiIHk9IjI1IiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9IiNjZmY0ZmMiIHN0cm9rZT0iIzAwQjJiOSIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cmVjdCB4PSIyNSIgeT0iMjUiIHdpZHRoPSIyMCIgaGVpZGh0PSIyMCIgZmlsbD0iI2NmZTJmZiIgc3Ryb2tlPSIjMDA1QTlDIiBzdHJva2Utd2lkdGg9IjEuNSIvPjwvc3ZnPg==" alt="Chi-Squared icon">
                        <h4>Chi-Squared Test Example</h4>
                    </div>
                    <button class="button" onclick="openModal('chiSquaredModal')">View Example</button>
                </div>
                <div class="example-link">
                    <div class="example-link-title">
                         <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGNpcmNsZSBjeD0iMTAiIGN5PSI0MCIgcj0iMyIgZmlsbD0iIzAwNUE5QyIvPjxjaXJjbGUgY3g9IjE4IiBjeT0iMzIiIHI9IjMiIGZpbGw9IiMwMDVBOUMiLz48Y2lyY2xlIGN4PSIyNSIgY3k9IjI1IiByPSIzIiBmaWxsPSIjMDA1QTlDIi8+PGNpcmNsZSBjeD0iMzUiIGN5PSIxOCIgcj0iMyIgZmlsbD0iIzAwNUE5QyIvPjxjaXJjbGUgY3g9IjQyIiBjeT0iMTAiIHI9IjMiIGZpbGw9IiMwMDVBOUMiLz48bGluZSB4MT0iNSIgeTE9IjQ1IiB4Mj0iNDUiIHkyPSI1IiBzdHJva2U9IiNkYzM1NDUiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==" alt="Correlation icon">
                        <h4>Correlation Example</h4>
                    </div>
                    <button class="button" onclick="openModal('correlationModal')">View Example</button>
                </div>
                <div class="example-link">
                    <div class="example-link-title">
                         <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGNpcmNsZSBjeD0iMTAiIGN5PSI0MCIgcj0iMyIgZmlsbD0iIzAwNUE5QyIvPjxjaXJjbGUgY3g9IjE4IiBjeT0iMzIiIHI9IjMiIGZpbGw9IiMwMDVBOUMiLz48Y2lyY2xlIGN4PSIyNSIgY3k9IjI1IiByPSIzIiBmaWxsPSIjMDA1QTlDIi8+PGNpcmNsZSBjeD0iMzUiIGN5PSIxOCIgcj0iMyIgZmlsbD0iIzAwNUE5QyIvPjxjaXJjbGUgY3g9IjQyIiBjeT0iMTAiIHI9IjMiIGZpbGw9IiMwMDVBOUMiLz48bGluZSB4MT0iNSIgeTE9IjQ1IiB4Mj0iNDUiIHkyPSI1IiBzdHJva2U9IiNkYzM1NDUiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==" alt="Regression icon">
                        <h4>Regression Analysis Example</h4>
                    </div>
                    <button class="button" onclick="openModal('regressionModal')">View Example</button>
                </div>
                <div class="navigation-buttons">
                    <button class="nav-button back" onclick="changePage(-1)">&larr; Back</button>
                    <button class="nav-button" onclick="changePage(1)">Next Step &rarr;</button>
                </div>
            </section>
        </div>

        <div id="page-5" class="page-section">
            <section id="pitfalls" class="step">
                <h2>Step 6: Common Pitfalls to Avoid</h2>
                <p>Understanding the methods is the first step, but being a good researcher also means knowing what mistakes to avoid. Here are some common pitfalls in quantitative research:</p>
                <ul>
                    <li>
                        <strong>Confusing Statistical Significance with Clinical Importance:</strong> A result can be statistically significant (p < 0.05) but have a very small effect size, making it meaningless in a real-world clinical setting. Always ask: "Is the difference or relationship large enough to matter to a patient?"
                    </li>
                    <li>
                        <strong>Assuming Correlation Implies Causation:</strong> This is the most critical error to avoid. Just because two variables are related (e.g., ice cream sales and drowning incidents) does not mean one causes the other. There is often a third, hidden variable (a confounding variable, like hot weather) that causes both.
                    </li>
                    <li>
                        <strong>Using a Parametric Test on Heavily Skewed Data:</strong> Parametric tests like the t-test and ANOVA have an underlying assumption that the data is normally distributed. If you use them on data that is very skewed, your results may be inaccurate. Always check your data's distribution first!
                    </li>
                    <li>
                        <strong>Ignoring the Study Design:</strong> The choice of statistical test depends heavily on your study design. For example, using an independent t-test on paired data (like before-and-after measurements on the same person) is incorrect and will lead to the wrong conclusions.
                    </li>
                </ul>
                <div class="navigation-buttons">
                    <button class="nav-button back" onclick="changePage(-1)">&larr; Back</button>
                    <button class="nav-button" onclick="changePage(1)">Next Step &rarr;</button>
                </div>
            </section>
        </div>

        <div id="page-6" class="page-section">
            <section id="summary" class="step">
                <h2>Summary: Key Takeaways</h2>
                <p>Congratulations on completing the conceptual part of the simulation! Here is a comprehensive review of the most important concepts:</p>
                <ul>
                    <li><strong>Quantitative vs. Qualitative:</strong> Quantitative research uses numerical data to test hypotheses and make predictions, while qualitative research explores ideas and experiences through non-numerical data like interviews.</li>
                    <li><strong>Levels of Measurement are Crucial:</strong> The type of data you haveâ€”<strong>Nominal</strong> (categories), <strong>Ordinal</strong> (ordered categories), <strong>Interval</strong> (equal spacing, no true zero), or <strong>Ratio</strong> (equal spacing with a true zero)â€”dictates which statistical analyses are appropriate.</li>
                    <li><strong>Design Determines Your Approach:</strong> Your research design (e.g., experimental, correlational) and whether your groups are <strong>unpaired</strong> (independent) or <strong>paired</strong> (dependent) are fundamental decisions that guide your choice of statistical test.</li>
                    <li><strong>Descriptive Statistics Summarise:</strong> Before testing hypotheses, use descriptive statistics (mean, median, standard deviation) to understand the basic features and distribution of your data.</li>
                    <li><strong>Data Distribution Matters:</strong> Symmetrical, bell-shaped data (<strong>normal distribution</strong>) allows for the use of powerful <strong>parametric tests</strong> (like t-tests, ANOVA). Skewed data often requires <strong>non-parametric tests</strong>.</li>
                    <li><strong>Inferential Statistics Draw Conclusions:</strong> The goal is to use a sample to infer conclusions about a larger population. This is done by testing a <strong>Null Hypothesis (H0)</strong> against an <strong>Alternative Hypothesis (H1)</strong>.</li>
                    <li><strong>The p-value is Your Guide:</strong> A p-value of â‰¤ 0.05 typically indicates a "statistically significant" result, meaning it's unlikely to be due to chance. This allows you to reject the null hypothesis.</li>
                    <li><strong>Choose the Right Test for the Job:</strong>
                        <ul>
                            <li><strong>t-test:</strong> Compares the means of <strong>2</strong> groups.</li>
                            <li><strong>ANOVA:</strong> Compares the means of <strong>3+</strong> groups.</li>
                            <li><strong>Chi-Squared Test:</strong> Checks for an association between <strong>categorical</strong> variables.</li>
                            <li><strong>Correlation:</strong> Measures the strength and direction of a relationship between two <strong>numerical</strong> variables.</li>
                            <li><strong>Regression:</strong> <strong>Predicts</strong> a numerical outcome using one or more variables.</li>
                        </ul>
                    </li>
                    <li><strong>Use the 5-Question Selection Guide:</strong> Systematically answer questions about your research goal (Differences vs. Relationships), data type, data distribution, study design (Paired/Unpaired), and number of groups to confidently select the correct statistical test.</li>
                    <li><strong>Correlation is NOT Causation:</strong> This is the most important principle to remember. An observed relationship between two variables does not prove that one causes the other. Always consider potential confounding variables.</li>
                </ul>
                <div class="summary-cta">
                    <p>You now have a foundational toolkit for understanding quantitative research. To put this knowledge into practice, proceed to the final section of the simulation: the interactive Statistical Test Selection Guide. This hands-on tool will help you apply what you've learned to select the correct statistical test for various research scenarios.</p>
                </div>
                <div class="navigation-buttons">
                    <button class="nav-button back" onclick="changePage(-1)">&larr; Back</button>
                    <button class="nav-button" onclick="changePage(1)">Go to Guide &rarr;</button>
                </div>
            </section>
        </div>
    </div><!-- End of standard .container -->

    <!-- Page 7 is outside the standard container to allow for a wider layout -->
    <div id="page-7" class="page-section">
        <div class="container-wide">
            <section class="step">
                <div class="guide-wrapper">
                    <div class="print-header">
                        <h1 class="main-title">Which Statistical Test? A Selection Guide</h1>
                    </div>

                    <div class="info-note">
                        <h3>Using This Statistical Test Selection Guide Tree</h3>
                        <p><strong>Let's apply what we have learned!</strong> This interactive guide is a foundational tool designed to help you select the correct statistical test for a given research question. It primarily focuses on the critical assumption of <strong>normality</strong> (Level 3) and other key decision points covered in the simulation.</p>
                        <strong>How to Use the Tree:</strong>
                        <ul>
                            <li>Use the colour-matched questions in the 'Selection Guide' to move down each level of the tree, starting at Level 1.</li>
                            <li>As you click each choice, the <strong>'Your Research Scenario'</strong> box will update to show a consistent health research example that matches your path.</li>
                            <li>Stuck on a term? Hovering over key terms (e.g., "Ordinal") reveals a simple definition with an example.</li>
                            <li>When you reach a final test, a pop-up window will appear with its purpose and an example research question.</li>
                            <li>Want a copy of the Selection Guide Tree? Hit the 'Print Version' button!</li>
                        </ul>
                        <p><strong>Important Limitation:</strong> As you advance your studies, you will build on this foundational knowledge by learning about other specialised tests, the importance of checking for other statistical assumptions (like homogeneity of variances), as well as the necessary follow-up analyses (like post-hoc tests) required for a complete and robust study.</p>
                    </div>

                    <button class="print-button" onclick="window.print()"><i class="bi bi-printer"></i> Print Version</button>

                    <div class="guide-tools-container">
                        <div class="legend">
                            <h3 class="legend-title">Selection Guide Questions and Legend</h3>
                            <ul>
                                <li><div class="legend-color-box" style="background-color: var(--level1-color);"></div><strong>LEVEL 1:</strong> Is the research question/hypothesis looking at DIFFERENCES between groups OR RELATIONSHIPS between variables?</li>
                                <li><div class="legend-color-box" style="background-color: var(--level2-color);"></div><strong>LEVEL 2:</strong> What is the data type of your outcome variable?</li>
                                <li><div class="legend-color-box" style="background-color: var(--level3-color);"></div><strong>LEVEL 3:</strong> Does your <span class="tooltip" data-tooltip="Data that is measured on a continuous scale, like height, weight, blood pressure, or temperature. It can be counted or measured.">numerical</span> data have a <span class="tooltip" data-tooltip="Also called a 'bell curve'. It means most of your data points are clustered around the average, with fewer points the further you get from the average.">normal distribution</span>? Yes/No</li>
                                <li><div class="legend-color-box" style="background-color: var(--level4-color);"></div><strong>LEVEL 4:</strong> What is your study design - <span class="tooltip" data-tooltip="Data is paired when the same subjects are measured more than once (e.g., before and after an intervention) or when subjects are matched. Example: Measuring a patient's blood pressure before and after taking a new medication.">paired</span> or <span class="tooltip" data-tooltip="Data is unpaired when you are comparing two or more separate, independent groups. Example: Comparing the average exam scores of students from two different universities.">unpaired</span>?</li>
                                <li><div class="legend-color-box" style="background-color: var(--level5-color);"></div><strong>LEVEL 5:</strong> Statistical Test for 2 groups / time points.</li>
                                <li><div class="legend-color-box" style="background-color: var(--level6-color);"></div><strong>LEVEL 6:</strong> Statistical Test for >2 groups / time points.</li>
                            </ul>
                        </div>

                        <div id="example-tracker">
                            <p><strong>Your Research Scenario:</strong> Click on a path below to see a relevant research example appear here. This will help you connect the choices to a real-world study.</p>
                        </div>
                    </div>

                    <!-- Refined SVG Arrowhead Definition -->
                    <svg width="0" height="0" style="position:absolute;">
                      <defs>
                        <marker id="arrowhead" markerWidth="9" markerHeight="7" refX="0" refY="3.5" orient="auto">
                          <polygon points="0 0, 9 3.5, 0 7" fill="#616161" />
                        </marker>
                      </defs>
                    </svg>

                    <div class="unified-tree-container">
                        <div class="top-level-container">
                            <div class="box level1">What is your primary research goal?</div>
                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                <path d="M 50 55 V 75 H 25 V 100" marker-end="url(#arrowhead)"></path>
                                <path d="M 50 75 H 75 V 100" marker-end="url(#arrowhead)"></path>
                            </svg>
                        </div>

                        <div class="branch-container">
                            <!-- ==================== DIFFERENCE PATH ==================== -->
                            <div class="main-path differences">
                                <div class="level-container">
                                    <div class="box path-header" data-choice="goal" data-value="diff"><span><i class="bi bi-bullseye"></i>To find a DIFFERENCE between groups</span></div>
                                    <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                        <path d="M 50 65 V 85 H 16 V 100" marker-end="url(#arrowhead)"></path>
                                        <path d="M 50 85 H 50 V 100" marker-end="url(#arrowhead)"></path>
                                        <path d="M 50 85 H 84 V 100" marker-end="url(#arrowhead)"></path>
                                    </svg>
                                </div>
                                <div class="path-content">
                                    <!-- Numerical Column -->
                                    <div class="data-type-column">
                                        <div class="level-container">
                                            <div class="box level2" data-choice="dataType" data-value="numerical"><i class="bi bi-calculator"></i><div class="icon-label"><span class="tooltip" data-tooltip="Data that is measured on a continuous scale, like height, weight, blood pressure, or temperature. It can be counted or measured.">Numerical</span></div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 72 V 100" marker-end="url(#arrowhead)"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box level3"><span class="tooltip" data-tooltip="Also called a 'bell curve'. It means most of your data points are clustered around the average, with fewer points the further you get from the average.">Normally Distributed?</span></div>
                                            <div class="decision-box-container">
                                                <div class="decision-box yes" data-choice="dist" data-value="yes">YES</div>
                                                <div class="decision-box no" data-choice="dist" data-value="no">NO</div>
                                            </div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 88 V 90 H 25 V 100" marker-end="url(#arrowhead)"></path>
                                                <path d="M 50 90 H 75 V 100" marker-end="url(#arrowhead)"></path>
                                                <line x1="105" y1="50" x2="142" y2="50" marker-end="url(#arrowhead)"></line>
                                                <text x="52" y="95" class="print-label">YES</text>
                                                <text x="115" y="45" class="print-label">NO</text>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box-pair"><div class="box level4" data-choice="design" data-value="paired"><span class="tooltip" data-tooltip="Data is paired when the same subjects are measured more than once (e.g., before and after an intervention) or when subjects are matched. Example: Measuring a patient's blood pressure before and after taking a new medication.">Paired</span></div><div class="box level4" data-choice="design" data-value="unpaired"><span class="tooltip" data-tooltip="Data is unpaired when you are comparing two or more separate, independent groups. Example: Comparing the average exam scores of students from two different universities.">Unpaired</span></div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 25 65 V 100" marker-end="url(#arrowhead)"></path>
                                                <path d="M 75 65 V 100" marker-end="url(#arrowhead)"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box-pair"><div class="box level5 final-test" data-test-name="paired-t-test">Paired t-test</div><div class="box level5 final-test" data-test-name="independent-t-test">Independent t-test</div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 25 75 V 135"></path>
                                                <path d="M 75 75 V 135"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box-pair"><div class="box level6 final-test" data-test-name="rm-anova">Repeated Measures ANOVA</div><div class="box level6 final-test" data-test-name="one-way-anova">One-Way ANOVA</div></div>
                                        </div>
                                    </div>
                                    <!-- Ordinal Column -->
                                    <div class="data-type-column">
                                        <div class="level-container">
                                            <div class="box level2" data-choice="dataType" data-value="ordinal"><i class="bi bi-bar-chart-line"></i><div class="icon-label"><span class="tooltip" data-tooltip="Data that has a natural order or rank, but the distance between ranks is not necessarily equal. Example: Pain scale (mild, moderate, severe) or patient satisfaction (very dissatisfied, neutral, very satisfied).">Ordinal</span></div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 72 V 100"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 0 V 50"></path>
                                                <path d="M 50 50 V 65 H 25 V 100" marker-end="url(#arrowhead)"></path>
                                                <path d="M 50 65 H 75 V 100" marker-end="url(#arrowhead)"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box-pair"><div class="box level4" data-choice="design" data-value="paired"><span class="tooltip" data-tooltip="Data is paired when the same subjects are measured more than once (e.g., before and after an intervention) or when subjects are matched. Example: Measuring a patient's blood pressure before and after taking a new medication.">Paired</span></div><div class="box level4" data-choice="design" data-value="unpaired"><span class="tooltip" data-tooltip="Data is unpaired when you are comparing two or more separate, independent groups. Example: Comparing the average exam scores of students from two different universities.">Unpaired</span></div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 25 65 V 100" marker-end="url(#arrowhead)"></path>
                                                <path d="M 75 65 V 100" marker-end="url(#arrowhead)"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box-pair"><div class="box level5 final-test" data-test-name="wilcoxon">Wilcoxon Signed-Rank Test</div><div class="box level5 final-test" data-test-name="mann-whitney">Mann-Whitney U Test</div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 25 75 V 135"></path>
                                                <path d="M 75 75 V 135"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box-pair"><div class="box level6 final-test" data-test-name="friedman">Friedman's Test</div><div class="box level6 final-test" data-test-name="kruskal-wallis">Kruskal-Wallis Test</div></div>
                                        </div>
                                    </div>
                                    <!-- Nominal Column -->
                                    <div class="data-type-column">
                                        <div class="level-container">
                                            <div class="box level2" data-choice="dataType" data-value="nominal"><i class="bi bi-tag"></i><div class="icon-label"><span class="tooltip" data-tooltip="Categorical data with no intrinsic order. Example: Blood type (A, B, AB, O), patient gender (male, female), or treatment group (placebo, drug).">Nominal</span></div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 72 V 100"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 0 V 65 H 25 V 100" marker-end="url(#arrowhead)"></path>
                                                <path d="M 50 65 H 75 V 100" marker-end="url(#arrowhead)"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box-pair"><div class="box level4" data-choice="design" data-value="paired"><span class="tooltip" data-tooltip="Data is paired when the same subjects are measured more than once (e.g., before and after an intervention) or when subjects are matched. Example: Measuring a patient's blood pressure before and after taking a new medication.">Paired</span></div><div class="box level4" data-choice="design" data-value="unpaired"><span class="tooltip" data-tooltip="Data is unpaired when you are comparing two or more separate, independent groups. Example: Comparing the average exam scores of students from two different universities.">Unpaired</span></div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 25 65 V 100" marker-end="url(#arrowhead)"></path>
                                                <path d="M 75 65 V 100" marker-end="url(#arrowhead)"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box-pair"><div class="box level5 final-test" data-test-name="mcnemar">McNemar's Test</div><div class="box level5 final-test" data-test-name="chi-square">Chi-Square Test</div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 25 75 V 135"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box-pair-single-left"><div class="box level6 final-test" data-test-name="cochran-q">Cochran's Q Test</div></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ==================== RELATIONSHIP PATH ==================== -->
                            <div class="main-path relationships">
                                <div class="level-container">
                                    <div class="box path-header" data-choice="goal" data-value="rel"><span><i class="bi bi-link-45deg"></i>To find a RELATIONSHIP between variables</span></div>
                                    <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                        <path d="M 50 65 V 85 H 16 V 100" marker-end="url(#arrowhead)"></path>
                                        <path d="M 50 85 H 50 V 100" marker-end="url(#arrowhead)"></path>
                                        <path d="M 50 85 H 84 V 100" marker-end="url(#arrowhead)"></path>
                                    </svg>
                                </div>
                                <div class="path-content">
                                    <!-- 2 Numerical -->
                                    <div class="data-type-column">
                                        <div class="level-container">
                                            <div class="box level2" data-choice="dataType" data-value="two-numerical"><span><i class="bi bi-calculator"></i> + <i class="bi bi-calculator"></i></span><div class="icon-label">Two <span class="tooltip" data-tooltip="Data that is measured on a continuous scale, like height, weight, blood pressure, or temperature. It can be counted or measured.">Numerical</span></div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 72 V 100" marker-end="url(#arrowhead)"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box level3"><span class="tooltip" data-tooltip="Also called a 'bell curve'. It means most of your data points are clustered around the average, with fewer points the further you get from the average.">Normally Distributed?</span></div>
                                            <div class="decision-box-container">
                                                <div class="decision-box yes" data-choice="dist" data-value="yes">YES</div>
                                                <div class="decision-box no" data-choice="dist" data-value="no">NO</div>
                                            </div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 88 V 100"></path>
                                                <line x1="105" y1="50" x2="142" y2="50" marker-end="url(#arrowhead)"></line>
                                                <text x="52" y="95" class="print-label">YES</text>
                                                <text x="115" y="45" class="print-label">NO</text>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                             <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 0 V 100" marker-end="url(#arrowhead)"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container"><div class="box level5 final-test" data-test-name="pearson-regression">Pearson's Correlation<br>OR Linear Regression</div></div>
                                        <div class="level-container"></div>
                                    </div>
                                    <!-- 2 Ordinal -->
                                    <div class="data-type-column">
                                        <div class="level-container">
                                            <div class="box level2" data-choice="dataType" data-value="two-ordinal"><span><i class="bi bi-bar-chart-line"></i> + <i class="bi bi-bar-chart-line"></i></span><div class="icon-label">Two <span class="tooltip" data-tooltip="Data that has a natural order or rank, but the distance between ranks is not necessarily equal. Example: Pain scale (mild, moderate, severe) or patient satisfaction (very dissatisfied, neutral, very satisfied).">Ordinal</span></div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 72 V 100"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 0 V 100"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                             <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 0 V 100" marker-end="url(#arrowhead)"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container"><div class="box level5 final-test" data-test-name="spearman">Spearman's Correlation</div></div>
                                        <div class="level-container"></div>
                                    </div>
                                    <!-- 2 Nominal -->
                                    <div class="data-type-column">
                                        <div class="level-container">
                                            <div class="box level2" data-choice="dataType" data-value="two-nominal"><span><i class="bi bi-tag"></i> + <i class="bi bi-tag"></i></span><div class="icon-label">Two <span class="tooltip" data-tooltip="Categorical data with no intrinsic order. Example: Blood type (A, B, AB, O), patient gender (male, female), or treatment group (placebo, drug).">Nominal</span></div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 72 V 100"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 50 0 V 65 H 25 V 100" marker-end="url(#arrowhead)"></path>
                                                <path d="M 50 65 H 75 V 100" marker-end="url(#arrowhead)"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box-pair"><div class="box level4" data-choice="design" data-value="paired"><span class="tooltip" data-tooltip="Data is paired when the same subjects are measured more than once (e.g., before and after an intervention) or when subjects are matched. Example: Measuring a patient's blood pressure before and after taking a new medication.">Paired</span></div><div class="box level4" data-choice="design" data-value="unpaired"><span class="tooltip" data-tooltip="Data is unpaired when you are comparing two or more separate, independent groups. Example: Comparing the average exam scores of students from two different universities.">Unpaired</span></div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 25 65 V 100" marker-end="url(#arrowhead)"></path>
                                                <path d="M 75 65 V 100" marker-end="url(#arrowhead)"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box-pair"><div class="box level5 final-test" data-test-name="mcnemar">McNemar's Test</div><div class="box level5 final-test" data-test-name="chi-square">Chi-Square Test</div></div>
                                            <svg class="connector-svg" viewbox="0 0 100 100" preserveaspectratio="none">
                                                <path d="M 25 75 V 135"></path>
                                            </svg>
                                        </div>
                                        <div class="level-container">
                                            <div class="box-pair-single-left"><div class="box level6 final-test" data-test-name="cochran-q">Cochran's Q Test</div></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Modal Structure -->
                    <div class="modal-overlay" id="test-modal">
                        <div class="modal-content">
                            <span class="modal-close" id="modal-close-btn">&times;</span>
                            <h3 id="modal-title">Test Information</h3>
                            <p><strong>Purpose:</strong> <span id="modal-purpose"></span></p>
                            <p><strong>Variables Needed:</strong> <span id="modal-variables"></span></p>
                            <p><strong>Example Research Question:</strong> <span id="modal-example"></span></p>
                        </div>
                    </div>
                </div>
                <div class="navigation-buttons">
                    <button class="nav-button back" onclick="changePage(-1)">&larr; Back</button>
                    <span></span> <!-- Empty span for spacing -->
                </div>
            </section>
        </div>
    </div>

    <!-- MODALS -->
    <div id="glossaryModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('glossaryModal')">&times;</span>
            <h2>Glossary of Key Terms</h2>
            <dl>
                <dt><strong>Alternative Hypothesis (H1)</strong></dt>
                <dd>The hypothesis that the researcher is trying to prove; it states that there is a significant effect, difference, or relationship.</dd>
                <dt><strong>ANOVA (Analysis of Variance)</strong></dt>
                <dd>An inferential statistical test used to compare the means of three or more groups.</dd>
                <dt><strong>Categorical Variable</strong></dt>
                <dd>A variable that can be sorted into distinct categories (e.g., Nominal or Ordinal data).</dd>
                <dt><strong>Chi-Squared (Ï‡Â²) Test</strong></dt>
                <dd>An inferential statistical test used to determine if there is a significant association between two categorical variables.</dd>
                <dt><strong>Confounding Variable</strong></dt>
                <dd>A third, often unmeasured, variable that influences both the independent and dependent variables, creating a spurious association.</dd>
                <dt><strong>Continuous (or Numerical) Variable</strong></dt>
                <dd>A variable that can take any numerical value within a given range (e.g., Interval or Ratio data).</dd>
                <dt><strong>Correlation</strong></dt>
                <dd>A statistical measure that expresses the extent to which two continuous variables are linearly related.</dd>
                <dt><strong>Experimental Design</strong></dt>
                <dd>A research design where the researcher manipulates an independent variable and uses random assignment to establish cause-and-effect relationships.</dd>
                <dt><strong>Inferential Statistics</strong></dt>
                <dd>Methods used to make conclusions about a larger population based on data from a sample.</dd>
                 <dt><strong>Interval Data</strong></dt>
                <dd>Numerical data with equal intervals between values but no true zero (e.g., temperature in Celsius).</dd>
                <dt><strong>Mean</strong></dt>
                <dd>The arithmetic average of a set of numbers.</dd>
                <dt><strong>Median</strong></dt>
                <dd>The middle value in an ordered set of numbers.</dd>
                <dt><strong>Mode</strong></dt>
                <dd>The most frequently occurring value in a set of numbers.</dd>
                <dt><strong>Nominal Data</strong></dt>
                <dd>Categorical data where the categories have no inherent order (e.g., blood type).</dd>
                <dt><strong>Non-parametric Test</strong></dt>
                <dd>A statistical test that does not assume the data follows a specific distribution (e.g., normal distribution). Used for skewed or ordinal data.</dd>
                <dt><strong>Normal Distribution</strong></dt>
                <dd>A symmetrical, bell-shaped distribution of data where the mean, median, and mode are all equal.</dd>
                <dt><strong>Null Hypothesis (H0)</strong></dt>
                <dd>The default hypothesis that states there is no effect, difference, or relationship. Statistical tests aim to reject this hypothesis.</dd>
                <dt><strong>Ordinal Data</strong></dt>
                <dd>Categorical data where the categories have a meaningful rank or order, but the intervals between them are not equal (e.g., pain scale: mild, moderate, severe).</dd>
                <dt><strong>p-value</strong></dt>
                <dd>The probability of observing the study results (or more extreme results) if the null hypothesis were true. A small p-value (typically â‰¤ 0.05) suggests the results are not due to chance.</dd>
                <dt><strong>Paired Design</strong></dt>
                <dd>A study design where measurements are taken from the same subjects at multiple time points (repeated measures) or from subjects matched on key characteristics.</dd>
                <dt><strong>Parametric Test</strong></dt>
                <dd>A statistical test that assumes the data follows a specific distribution, typically a normal distribution.</dd>
                <dt><strong>Ratio Data</strong></dt>
                <dd>Numerical data with equal intervals and a true zero, allowing for meaningful ratios (e.g., height, weight).</dd>
                <dt><strong>Regression Analysis</strong></dt>
                <dd>A statistical method used to model and predict the relationship between a dependent variable and one or more independent variables.</dd>
                <dt><strong>Standard Deviation (SD)</strong></dt>
                <dd>A measure of how much the values in a dataset are spread out from the mean.</dd>
                <dt><strong>Standard Error of the Mean (SEM)</strong></dt>
                <dd>An estimate of how much the sample mean is likely to differ from the true population mean.</dd>
                <dt><strong>t-test</strong></dt>
                <dd>An inferential statistical test used to compare the means of two groups.</dd>
                <dt><strong>Unpaired Design</strong></dt>
                <dd>A study design where measurements are taken from two or more separate, independent groups of subjects.</dd>
            </dl>
        </div>
    </div>
    
    <div id="hintModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('hintModal')">&times;</span>
            <h2>Incorrect Match</h2>
            <p id="hintModalText"></p>
        </div>
    </div>

    <!-- t-test Modal -->
    <div id="tTestModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('tTestModal')">&times;</span>
            <h2>Example: Independent Samples t-test</h2>
            <p><strong>Scenario:</strong> Researchers want to test if a new Mediterranean diet plan (Diet B) is more effective at reducing cholesterol than a standard low-fat diet (Diet A) over 6 months.</p>
            <h4>Research Question & Hypotheses</h4>
            <ul>
                <li><strong>Research Question:</strong> Is there a difference in cholesterol reduction between a standard diet and a new Mediterranean diet?</li>
                <li><strong>Null Hypothesis (H0):</strong> There is no difference in the mean cholesterol reduction between Diet A and Diet B.</li>
                <li><strong>Alternative Hypothesis (H1):</strong> There is a significant difference in the mean cholesterol reduction between Diet A and Diet B.</li>
            </ul>
            <h4>Data Collected:</h4>
            <table border="1" style="width:100%; border-collapse: collapse; text-align: center;">
                <tr style="background-color: var(--light-gray);"><th></th><th>Diet A (Standard)</th><th>Diet B (New)</th></tr>
                <tr><td><strong>Mean Reduction</strong></td><td>15 mg/dL</td><td>25 mg/dL</td></tr>
                <tr><td><strong>Standard Deviation (SD)</strong></td><td>5.2 mg/dL</td><td>6.1 mg/dL</td></tr>
            </table>
            <div style="margin-top: 20px;"><canvas id="tTestChart"></canvas></div>
            <div class="modal-section">
                <h4>Test Variations & Alternatives</h4>
                <p><strong>Independent t-test:</strong> Used for two separate, unrelated groups (like in this example).</p>
                <p><strong>Paired t-test:</strong> Used for the same group measured twice (e.g., measuring patients' cholesterol <em>before</em> and <em>after</em> the diet).</p>
                <p><strong>Non-parametric Alternatives:</strong> If the data is not normally distributed, you would use:</p>
                <ul>
                    <li><strong>Mann-Whitney U test</strong> for unpaired designs.</li>
                    <li><strong>Wilcoxon signed-rank test</strong> for paired designs.</li>
                </ul>
            </div>
            <div class="modal-section">
                <h4>Which Statistical Test?</h4>
                <ol class="selection-guide">
                    <li class="guide-q1"><strong>Differences or Relationships?</strong> We are testing for a <strong>DIFFERENCE</strong> in the mean cholesterol reduction.</li>
                    <li class="guide-q2"><strong>Type of Data?</strong> The outcome (cholesterol reduction) is <strong>numerical</strong>, and we have <strong>two</strong> groups: Diet A and Diet B.</li>
                    <li class="guide-q3"><strong>Normal Distribution?</strong> We assume yes for this parametric test.</li>
                    <li class="guide-q4"><strong>Paired or Unpaired?</strong> The groups are <strong>unpaired</strong>, as they are different people in each diet group.</li>
                    <li class="guide-q5"><strong>Statistical Test?</strong> Based on the above, an <strong>Independent Samples t-test</strong> is appropriate.</li>
                </ol>
            </div>
            <div class="modal-section">
                <h4>Conclusion</h4>
                <p>The statistical test produced a p-value of 0.03. Since <strong>p = 0.03</strong> is less than 0.05, we <strong>reject the null hypothesis (H0)</strong>. This means there is a statistically significant difference between the two diets. We can conclude in favour of the alternative hypothesis (H1), stating that the new Mediterranean diet is significantly more effective at reducing cholesterol.</p>
            </div>
        </div>
    </div>

    <!-- ANOVA Modal -->
    <div id="anovaModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('anovaModal')">&times;</span>
            <h2>Example: ANOVA</h2>
            <p><strong>Scenario:</strong> A hospital wants to compare the effectiveness of three different pain relief medications (Drug A, Drug B, Drug C) for patients after surgery. They measure patient-reported pain scores (on a scale of 1-10).</p>
            <h4>Research Question & Hypotheses</h4>
            <ul>
                <li><strong>Research Question:</strong> Is there a difference in pain relief effectiveness among Drugs A, B, and C?</li>
                <li><strong>Null Hypothesis (H0):</strong> There is no difference in the mean pain scores among the three drug groups. (Î¼A = Î¼B = Î¼C)</li>
                <li><strong>Alternative Hypothesis (H1):</strong> At least one drug group has a different mean pain score from the others.</li>
            </ul>
            <h4>Data Collected:</h4>
            <table border="1" style="width:100%; border-collapse: collapse; text-align: center;">
                <tr style="background-color: var(--light-gray);"><th></th><th>Drug A</th><th>Drug B</th><th>Drug C</th></tr>
                <tr><td><strong>Mean Pain Score</strong></td><td>6.5</td><td>4.2</td><td>6.8</td></tr>
                <tr><td><strong>Standard Deviation (SD)</strong></td><td>1.5</td><td>1.2</td><td>1.6</td></tr>
            </table>
            <div style="margin-top: 20px;"><canvas id="anovaChart"></canvas></div>
            <div class="modal-section">
                <h4>Test Variations & Alternatives</h4>
                <p><strong>One-Way ANOVA:</strong> Used when comparing groups based on one independent variable (like in this example).</p>
                <p><strong>Repeated Measures ANOVA:</strong> Used for the same group measured three or more times (e.g., patient pain scores at 1, 3, and 6 hours post-surgery).</p>
                <p><strong>Non-parametric Alternative:</strong> The <strong>Kruskal-Wallis test</strong> is used for unpaired designs when the assumption of normal distribution is not met.</p>
            </div>
            <div class="modal-section">
                <h4>Which Statistical Test?</h4>
                <ol class="selection-guide">
                    <li class="guide-q1"><strong>Differences or Relationships?</strong> We are testing for a <strong>DIFFERENCE</strong> in mean pain scores.</li>
                    <li class="guide-q2"><strong>Type of Data?</strong> The outcome (pain score) is <strong>numerical</strong>, and we have <strong>three</strong> groups: Drug A, Drug B, and Drug C.</li>
                    <li class="guide-q3"><strong>Normal Distribution?</strong> We assume yes for this parametric test.</li>
                    <li class="guide-q4"><strong>Paired or Unpaired?</strong> The groups are <strong>unpaired</strong>, as different people are in each drug group.</li>
                    <li class="guide-q5"><strong>Statistical Test?</strong> Based on the above, a <strong>One-Way ANOVA</strong> is appropriate.</li>
                </ol>
            </div>
            <div class="modal-section">
                <h4>Conclusion</h4>
                <p>The ANOVA test yielded a p-value of 0.01. Since <strong>p = 0.01</strong> is less than 0.05, we <strong>reject the null hypothesis (H0)</strong>. This indicates there is a statistically significant difference in mean pain scores among the three medication groups.</p>
                <p><strong>What about Post-Hoc Tests?</strong> An ANOVA test tells us that at least one group is different from the others, but it doesn't tell us *which* ones. To find out, we run <strong>post-hoc tests</strong> (like Tukey's HSD), which compare each group against each other.</p>
                <p>For example, a post-hoc test might reveal:</p>
                <ul>
                    <li>Drug A vs. Drug B: p = 0.02 (Significant difference)</li>
                    <li>Drug B vs. Drug C: p = 0.01 (Significant difference)</li>
                    <li>Drug A vs. Drug C: p = 0.85 (No significant difference)</li>
                </ul>
                <p>This tells us that Drug B is significantly more effective than both A and C, but there's no real difference in effectiveness between A and C.</p>
            </div>
        </div>
    </div>

    <!-- Chi-Squared Modal -->
    <div id="chiSquaredModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('chiSquaredModal')">&times;</span>
            <h2>Example: Chi-Squared (Ï‡Â²) Test</h2>
            <p><strong>Scenario:</strong> Public health officials want to know if there is an association between attending a new health education programme and getting a flu vaccine.</p>
            <h4>Research Question & Hypotheses</h4>
            <ul>
                <li><strong>Research Question:</strong> Is there an association between programme attendance and vaccination status?</li>
                <li><strong>Null Hypothesis (H0):</strong> There is no association between attending the programme and getting a flu vaccine; the two variables are independent.</li>
                <li><strong>Alternative Hypothesis (H1):</strong> There is a significant association between attending the programme and getting a flu vaccine.</li>
            </ul>
            <h4>Data Collected (Contingency Table):</h4>
            <table border="1" style="width:100%; border-collapse: collapse; text-align: center;">
                <tr style="background-color: var(--light-gray);"><th></th><th>Got Vaccine</th><th>No Vaccine</th><th>Total</th></tr>
                <tr><td><strong>Attended Programme</strong></td><td>70</td><td>30</td><td>100</td></tr>
                <tr><td><strong>Did Not Attend</strong></td><td>40</td><td>60</td><td>100</td></tr>
            </table>
            <div style="margin-top: 20px;"><canvas id="chiChart"></canvas></div>
            <div class="modal-section">
                <h4>Key Feature</h4>
                <p>This is a non-parametric test, so it does not require the data to be normally distributed. It works with counts and frequencies rather than means, making it ideal for categorical data.</p>
            </div>
            <div class="modal-section">
                <h4>Which Statistical Test?</h4>
                <ol class="selection-guide">
                    <li class="guide-q1"><strong>Differences or Relationships?</strong> We are testing for a <strong>RELATIONSHIP (association)</strong>.</li>
                    <li class="guide-q2"><strong>Type of Data?</strong> We have two <strong>categorical</strong> variables: Programme Attendance (Yes/No) and Vaccination Status (Yes/No).</li>
                    <li class="guide-q3"><strong>Normal Distribution?</strong> Not applicable (this is a non-parametric test).</li>
                    <li class="guide-q4"><strong>Paired or Unpaired?</strong> The groups are <strong>unpaired</strong>.</li>
                    <li class="guide-q5"><strong>Statistical Test?</strong> Based on the above, a <strong>Chi-Squared Test</strong> is appropriate.</li>
                </ol>
            </div>
            <div class="modal-section">
                <h4>Conclusion</h4>
                <p>The test resulted in a p-value of 0.001. Since <strong>p = 0.001</strong> is much less than 0.05, we <strong>reject the null hypothesis (H0)</strong>. This provides strong evidence for the alternative hypothesis (H1), allowing us to conclude that there is a statistically significant association between attending the health education programme and getting a flu vaccine.</p>
            </div>
        </div>
    </div>

    <!-- Correlation Modal -->
    <div id="correlationModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('correlationModal')">&times;</span>
            <h2>Example: Pearson Correlation</h2>
            <p><strong>Scenario:</strong> A researcher wants to investigate if there is a linear relationship between the number of hours a person exercises per week and their resting heart rate.</p>
            <h4>Research Question & Hypotheses</h4>
            <ul>
                <li><strong>Research Question:</strong> Is there a relationship between weekly exercise hours and resting heart rate?</li>
                <li><strong>Null Hypothesis (H0):</strong> There is no linear relationship between hours of exercise per week and resting heart rate (r = 0).</li>
                <li><strong>Alternative Hypothesis (H1):</strong> There is a significant linear relationship between hours of exercise per week and resting heart rate (r â‰  0).</li>
            </ul>
            <h4>Data Collected (Sample):</h4>
            <table border="1" style="width:100%; border-collapse: collapse; text-align: center;">
                <tr style="background-color: var(--light-gray);"><th>Participant</th><th>Hours of Exercise/Week</th><th>Resting Heart Rate (bpm)</th></tr>
                <tr><td>1</td><td>1</td><td>85</td></tr>
                <tr><td>2</td><td>3</td><td>74</td></tr>
                <tr><td>3</td><td>5</td><td>65</td></tr>
                <tr><td>4</td><td>7</td><td>61</td></tr>
            </table>
            <div style="margin-top: 20px;"><canvas id="corrChart"></canvas></div>
            <div class="modal-section">
                <h4>Test Variations</h4>
                <p><strong>Pearson's correlation:</strong> Used for normally distributed, linear data (parametric), as in this example.</p>
                <p><strong>Spearman's correlation:</strong> Used for data that is not normally distributed or has an ordinal nature (non-parametric).</p>
            </div>
            <div class="modal-section">
                <h4>Which Statistical Test?</h4>
                <ol class="selection-guide">
                    <li class="guide-q1"><strong>Differences or Relationships?</strong> We are testing for a <strong>RELATIONSHIP</strong>.</li>
                    <li class="guide-q2"><strong>Type of Data?</strong> We have two <strong>numerical</strong> variables: Hours of Exercise and Heart Rate.</li>
                    <li class="guide-q3"><strong>Normal Distribution?</strong> We assume yes for this parametric test.</li>
                    <li class="guide-q4"><strong>Paired or Unpaired?</strong> The data points are <strong>paired</strong> for each person, but the subjects are independent.</li>
                    <li class="guide-q5"><strong>Statistical Test?</strong> Based on the above, <strong>Pearson's Correlation</strong> is appropriate.</li>
                </ol>
            </div>
            <div class="modal-section">
                <h4>Conclusion</h4>
                <p>The analysis yielded a Correlation Coefficient (r) = -0.85 and a p-value < 0.001. Since the <strong>p-value is less than 0.05</strong>, we <strong>reject the null hypothesis (H0)</strong>. We conclude that there is a statistically significant, strong negative linear relationship between exercise and resting heart rate, supporting the alternative hypothesis (H1). As exercise hours increase, resting heart rate tends to decrease.</p>
            </div>
            <div class="warning-section">
                <h4>âš ï¸ Important: Correlation is NOT Causation!</h4>
                <p>This result shows a strong relationship, but it does <strong>not</strong> prove that more exercise *causes* a lower heart rate. It's very likely, but there could be other factors (<strong>confounding variables</strong>) at play. For example, people who exercise more might also have healthier diets, smoke less, or have a genetic predisposition to a lower heart rate. Correlation suggests a link that warrants further investigation, often with an experimental study (like an RCT) to establish causation.</p>
            </div>
        </div>
    </div>
    
    <!-- Regression Modal -->
    <div id="regressionModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('regressionModal')">&times;</span>
            <h2>Example: Regression Analysis</h2>
            <p><strong>Scenario:</strong> A hospital administrator wants to predict a patient's length of stay (in days) based on their age and their initial illness severity score (from 1-10).</p>
            <h4>Research Question & Hypotheses</h4>
            <ul>
                <li><strong>Research Question:</strong> Can we predict a patient's length of stay using their age and severity score?</li>
                <li><strong>Null Hypothesis (H0):</strong> Neither age nor severity score can significantly predict a patient's length of stay.</li>
                <li><strong>Alternative Hypothesis (H1):</strong> At least one variable (age or severity score) can significantly predict a patient's length of stay.</li>
            </ul>
            <h4>Data Collected (Sample):</h4>
            <table border="1" style="width:100%; border-collapse: collapse; text-align: center;">
                <tr style="background-color: var(--light-gray);"><th>Patient</th><th>Age</th><th>Severity Score</th><th>Length of Stay (Days)</th></tr>
                <tr><td>1</td><td>45</td><td>5</td><td>6</td></tr>
                <tr><td>2</td><td>68</td><td>8</td><td>12</td></tr>
                <tr><td>3</td><td>32</td><td>3</td><td>4</td></tr>
                <tr><td>4</td><td>75</td><td>7</td><td>10</td></tr>
            </table>
            <div style="margin-top: 20px;"><canvas id="regressionChart"></canvas></div>
            <div class="modal-section">
                <h4>Test Variations</h4>
                <p><strong>Simple Linear Regression:</strong> Uses only one predictor variable to predict an outcome (e.g., predicting length of stay from severity score only).</p>
                <p><strong>Multiple Linear Regression:</strong> Uses two or more predictor variables to create a more comprehensive prediction model (as in this example).</p>
            </div>
            <div class="modal-section">
                <h4>Which Statistical Test?</h4>
                <ol class="selection-guide">
                    <li class="guide-q1"><strong>Differences or Relationships?</strong> We are testing for a <strong>RELATIONSHIP (for prediction)</strong>.</li>
                    <li class="guide-q2"><strong>Type of Data?</strong> We are predicting a <strong>numerical</strong> outcome (Length of Stay) from multiple predictor variables.</li>
                    <li class="guide-q3"><strong>Normal Distribution?</strong> We assume yes for this parametric method.</li>
                    <li class="guide-q4"><strong>Paired or Unpaired?</strong> The observations are <strong>unpaired</strong> (independent patients).</li>
                    <li class="guide-q5"><strong>Statistical Test?</strong> Based on the above, <strong>Multiple Linear Regression</strong> is appropriate.</li>
                </ol>
            </div>
            <div class="modal-section">
                <h4>Conclusion</h4>
                <p>The analysis produces a model, often summarised by an equation like: <code>Stay = -2.5 + (0.1 * Age) + (0.8 * Severity)</code>. The overall model is significant (p = 0.02).</p>
                <p>This means we <strong>reject the null hypothesis (H0)</strong>. We can conclude that age and severity score, together, are significant predictors of a patient's length of stay. The equation tells us that for every one-year increase in age, the stay increases by 0.1 days, and for every one-point increase in severity, the stay increases by 0.8 days, holding the other variable constant.</p>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Created by Dr. Revecca Kakavanos-Plew, 2025</p>
    </footer>

    <script>
        // --- Page Navigation Logic ---
        let currentPageIndex = 0;
        const pages = document.querySelectorAll('.page-section');
        const navLinks = document.querySelectorAll('.nav-link');
        const totalPages = pages.length;

        function showPage(pageIndex) {
            pages.forEach((page, index) => {
                if (index === pageIndex) {
                    page.classList.add('active-page');
                } else {
                    page.classList.remove('active-page');
                }
            });
            window.scrollTo(0, 0);
            updateNavHighlight(pageIndex);
        }

        function changePage(direction) {
            const newIndex = currentPageIndex + direction;
            if (newIndex >= 0 && newIndex < totalPages) {
                currentPageIndex = newIndex;
                showPage(currentPageIndex);
            }
        }

        function updateNavHighlight(pageIndex) {
            navLinks.forEach(link => {
                if (parseInt(link.dataset.pageTarget) === pageIndex) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            showPage(0); // Show the first page on load
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetPage = parseInt(e.target.dataset.pageTarget);
                    currentPageIndex = targetPage;
                    showPage(currentPageIndex);
                });
            });
        });


        // --- Chart Instances (to be created when modals open) ---
        let tTestChart, anovaChart, chiChart, corrChart, regressionChart;

        // --- Modal & Nav Logic ---
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            // Render chart only when modal is visible and not already rendered
            if (modalId === 'tTestModal' && !tTestChart) renderTTestChart();
            if (modalId === 'anovaModal' && !anovaChart) renderAnovaChart();
            if (modalId === 'chiSquaredModal' && !chiChart) renderChiChart();
            if (modalId === 'correlationModal' && !corrChart) renderCorrChart();
            if (modalId === 'regressionModal' && !regressionChart) renderRegressionChart();
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        function showHintModal(hintText) {
            document.getElementById('hintModalText').textContent = hintText;
            openModal('hintModal');
        }

        window.onclick = function(event) {
            const modals = document.getElementsByClassName('modal');
            for (let i = 0; i < modals.length; i++) {
                if (event.target == modals[i]) {
                    modals[i].style.display = "none";
                }
            }
        }

        // --- Step 1 Quiz Logic ---
        function checkStep1Answer() {
            const feedbackEl = document.getElementById('feedback-step1');
            const selectedOption = document.querySelector('input[name="q_step1"]:checked');
            
            if (!selectedOption) {
                feedbackEl.innerHTML = "Please select a scenario.";
                feedbackEl.className = 'feedback incorrect';
                feedbackEl.style.display = 'block';
                return;
            }

            if (selectedOption.value === 'quantitative') {
                feedbackEl.innerHTML = "Correct! This scenario involves surveying a large group and analysing numerical data (age, frequency) to find relationships, which is a hallmark of quantitative research.";
                feedbackEl.className = 'feedback correct';
            } else {
                feedbackEl.innerHTML = "Not quite. The first scenario involves exploring 'feelings' through interviews, which generates descriptive, non-numerical data. This is characteristic of qualitative research. Try the other option!";
                feedbackEl.className = 'feedback incorrect';
            }
            feedbackEl.style.display = 'block';
        }

        // --- Descriptive Stats Quiz Logic ---
        function checkAndUnlock(questionId, correctAnswer, nextQuestionId) {
            const feedbackEl = document.getElementById(`feedback-${questionId}`);
            const selectedOption = document.querySelector(`input[name="${questionId}"]:checked`);
            const checkButton = event.target;

            if (!selectedOption) {
                feedbackEl.innerHTML = "Please select an answer.";
                feedbackEl.className = 'feedback incorrect';
                feedbackEl.style.display = 'block';
                return;
            }

            if (selectedOption.value === correctAnswer) {
                let correctText = "";
                switch (questionId) {
                    case 'q1': correctText = "Correct! (25+30+35+40+45) / 5 = 35."; break;
                    case 'q2': correctText = "Correct! The median is best for datasets with outliers, as it isn't affected by extreme values."; break;
                    case 'q3': correctText = "Correct! A smaller SD means the data points are tightly packed around the average."; break;
                    case 'q4': correctText = "Correct! SEM tells us about the precision of the sample mean as an estimate of the true population mean."; break;
                    case 'q5': correctText = "Correct! The extremely high incomes of the millionaires are outliers that pull the mean to the right, creating a positive skew."; break;
                }
                
                feedbackEl.innerHTML = correctText;
                feedbackEl.className = 'feedback correct';
                checkButton.disabled = true;

                if (nextQuestionId) {
                    document.getElementById(nextQuestionId).style.display = 'block';
                } else {
                    feedbackEl.innerHTML += "<br><strong>Congratulations, you've completed this section!</strong>";
                }
            } else {
                let incorrectFeedback = "";
                switch (questionId) {
                    case 'q1': incorrectFeedback = "Not quite. Remember, the mean is the sum of all values divided by the number of values. Try adding them up and dividing by 5."; break;
                    case 'q2':
                        if (selectedOption.value === 'mean') incorrectFeedback = "Not quite. The mean is heavily affected by outliers. The number 20 will pull the average up significantly.";
                        else if (selectedOption.value === 'mode') incorrectFeedback = "Incorrect. While the mode (5) is a measure of central tendency, the median is specifically used to find the central point without being skewed by extreme values.";
                        break;
                    case 'q3':
                        if (selectedOption.value === 'a') incorrectFeedback = "Incorrect. Remember, a *smaller* Standard Deviation means the data is *less* spread out, not more.";
                        else if (selectedOption.value === 'c') incorrectFeedback = "Incorrect. The question states both groups have the *same mean* (average). Standard Deviation only tells us about the spread of the data.";
                        break;
                    case 'q4':
                        if (selectedOption.value === 'sd') incorrectFeedback = "Close, but not quite. SD describes the spread of data in your *sample*, while SEM describes how precise your *sample mean* is as an estimate of the population mean.";
                        else if (selectedOption.value === 'range') incorrectFeedback = "Incorrect. The range only tells you the difference between the highest and lowest values, not how precise the average is.";
                        break;
                    case 'q5':
                        if (selectedOption.value === 'neg') incorrectFeedback = "Incorrect. Negative skew happens when outliers are on the low end. Are millionaires low-income or high-income outliers?";
                        else if (selectedOption.value === 'norm') incorrectFeedback = "Not quite. A normal distribution is symmetrical. The presence of extreme outliers like millionaires will make the data asymmetrical.";
                        break;
                }
                feedbackEl.innerHTML = incorrectFeedback;
                feedbackEl.className = 'feedback incorrect';
            }
            feedbackEl.style.display = 'block';
        }
        
        // --- Data Types Quiz Logic ---
        function checkDataAnswer(questionId, correctAnswer, nextQuestionId) {
            const feedbackEl = document.getElementById(`feedback-${questionId}`);
            const selectedOption = document.querySelector(`input[name="${questionId}"]:checked`);
            const checkButton = event.target;

            if (!selectedOption) {
                feedbackEl.innerHTML = "Please select an answer.";
                feedbackEl.className = 'feedback incorrect';
                feedbackEl.style.display = 'block';
                return;
            }

            if (selectedOption.value === correctAnswer) {
                let correctText = "";
                switch (questionId) {
                    case 'q_data_1': correctText = "Correct! Calendar years have equal intervals (one year), but the year 0 is an arbitrary point, not a 'true zero' representing the absence of time."; break;
                    case 'q_data_2': correctText = "Correct! The agreement levels have a clear order, but the psychological 'distance' between 'Agree' and 'Strongly Agree' isn't necessarily the same as between 'Neutral' and 'Agree'."; break;
                    case 'q_data_3': correctText = "Correct! Time has equal intervals (seconds) and a true zero (0 seconds means no time has passed), allowing for meaningful ratios (e.g., 10 seconds is twice as long as 5 seconds)."; break;
                    case 'q_data_4': correctText = "Correct! Marital status represents categories that have no inherent order or rank."; break;
                }
                
                feedbackEl.innerHTML = correctText;
                feedbackEl.className = 'feedback correct';
                checkButton.disabled = true;

                if (nextQuestionId) {
                    document.getElementById(nextQuestionId).style.display = 'block';
                } else {
                    feedbackEl.innerHTML += "<br><strong>Congratulations, you've completed this section!</strong>";
                }
            } else {
                let incorrectFeedback = "";
                switch (questionId) {
                    case 'q_data_1': incorrectFeedback = "Not quite. The values have a clear order and equal intervals (one year), but does the year 0 represent a true absence of time? If not, it cannot be Ratio."; break;
                    case 'q_data_2': incorrectFeedback = "Incorrect. The categories have a clear order or rank (Strongly Agree > Agree). Which data type has ordered categories?"; break;
                    case 'q_data_3': incorrectFeedback = "Not quite. Time is numerical and has a true zero (0 seconds means no time has passed). Which is the highest level of measurement that includes a true zero?"; break;
                    case 'q_data_4': incorrectFeedback = "Incorrect. Ask yourself: is there a meaningful order to the categories 'Single', 'Married', and 'Divorced'? Since there isn't, it's the most basic type of category."; break;
                }
                feedbackEl.innerHTML = incorrectFeedback;
                feedbackEl.className = 'feedback incorrect';
            }
            feedbackEl.style.display = 'block';
        }

        // --- Drag and Drop Quiz Logic ---
        const draggables = document.querySelectorAll('.draggable');
        const dropZones = document.querySelectorAll('.drop-zone');
        const dragOptionsContainer = document.querySelector('.drag-options');

        draggables.forEach(draggable => {
            draggable.addEventListener('dragstart', () => {
                draggable.classList.add('dragging');
            });
            draggable.addEventListener('dragend', () => {
                draggable.classList.remove('dragging');
            });
        });

        dropZones.forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault();
                if (!zone.classList.contains('correct')) {
                    zone.classList.add('hover');
                }
            });
            zone.addEventListener('dragleave', () => {
                zone.classList.remove('hover');
            });
            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.classList.remove('hover');
                const dragged = document.querySelector('.dragging');
                
                if (zone.dataset.answer === dragged.id) {
                    // Correct drop
                    zone.innerHTML = ''; // Clear placeholder text
                    zone.appendChild(dragged);
                    zone.classList.add('correct');
                    dragged.setAttribute('draggable', 'false');
                    dragged.style.cursor = 'default';
                    
                    const feedback = document.createElement('div');
                    feedback.className = 'correct-feedback';
                    let feedbackText = '';
                    switch(zone.dataset.answer) {
                        // Step 5 Quiz
                        case 'drag-ttest': feedbackText = 'âœ… Correct! A t-test is used to compare the means of two groups.'; break;
                        case 'drag-chi': feedbackText = 'âœ… Correct! Chi-Squared is used for associations between two categorical variables.'; break;
                        case 'drag-anova': feedbackText = 'âœ… Correct! ANOVA is used to compare the means of three or more groups.'; break;
                        case 'drag-corr': feedbackText = 'âœ… Correct! Correlation measures the relationship between two continuous variables.'; break;
                        case 'drag-reg': feedbackText = 'âœ… Correct! Regression is used to predict an outcome from one or more predictor variables.'; break;
                        // Step 3 Quiz
                        case 'drag-rct': feedbackText = 'âœ… Correct! This is the definition of an experimental design.'; break;
                        case 'drag-corr': feedbackText = 'âœ… Correct! This describes a correlational design.'; break;
                        case 'drag-paired': feedbackText = 'âœ… Correct! This is a paired or dependent groups design.'; break;
                        case 'drag-unpaired': feedbackText = 'âœ… Correct! This is an unpaired or independent groups design.'; break;
                    }
                    feedback.textContent = feedbackText;
                    zone.appendChild(feedback);

                } else {
                    // Incorrect drop
                    let hintText = '';
                    switch(zone.dataset.answer) {
                        // Step 5 Hints
                        case 'drag-ttest': hintText = 'This scenario compares the average of just two groups. Which test is designed for that?'; break;
                        case 'drag-chi': hintText = 'This scenario uses categories (Blood Type, Allergy Status), not averages. Which test looks for associations in categories?'; break;
                        case 'drag-anova': hintText = 'This scenario compares the average across more than two groups. Which test is an extension of the t-test for 3+ groups?'; break;
                        case 'drag-corr': hintText = 'This scenario is looking for a relationship between two numerical variables, not comparing groups. Which test measures the strength of a relationship?'; break;
                        case 'drag-reg': hintText = 'The key word here is "predict". Which test is best for prediction using multiple factors?'; break;
                        // Step 3 Hints
                        case 'drag-rct': hintText = 'Think about the "gold standard" for proving cause-and-effect. It involves an intervention and a special way of assigning participants.'; break;
                        case 'drag-corr': hintText = 'This design just looks at how two things are naturally related, without the researcher changing anything.'; break;
                        case 'drag-paired': hintText = 'This design involves measurements that are linked, like "before and after" on the same person.'; break;
                        case 'drag-unpaired': hintText = 'This design involves completely separate groups of people, where one person\'s data is not connected to another\'s.'; break;
                    }
                    showHintModal(hintText);
                }
            });
        });

        // --- Chart Rendering Functions ---
        function renderTTestChart() {
            const ctx = document.getElementById('tTestChart').getContext('2d');
            tTestChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Diet A (Standard)', 'Diet B (New)'],
                    datasets: [{
                        label: 'Cholesterol Reduction (mg/dL)',
                        data: [15, 25],
                        backgroundColor: ['#005A9C', '#00B2A9'],
                        borderColor: ['#003d6b', '#008f86'],
                        borderWidth: 1
                    }]
                },
                options: {
                    plugins: {
                        title: { display: true, text: 'Cholesterol Reduction by Diet', font: { size: 16 } },
                        legend: { display: false }
                    },
                    scales: {
                        y: { beginAtZero: true, title: { display: true, text: 'Reduction (mg/dL)' } },
                        x: { title: { display: true, text: 'Diet Group' } }
                    }
                }
            });
        }

        function renderAnovaChart() {
            const ctx = document.getElementById('anovaChart').getContext('2d');
            anovaChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Drug A', 'Drug B', 'Drug C'],
                    datasets: [{
                        label: 'Mean Pain Score',
                        data: [6.5, 4.2, 6.8],
                        backgroundColor: ['#005A9C', '#00B2A9', '#FFC107'],
                        borderWidth: 1
                    }]
                },
                options: {
                    plugins: {
                        title: { display: true, text: 'Pain Scores by Drug Group', font: { size: 16 } },
                        legend: { display: false }
                    },
                    scales: {
                        y: { beginAtZero: true, title: { display: true, text: 'Pain Score (1-10)' } },
                        x: { title: { display: true, text: 'Medication' } }
                    }
                }
            });
        }

        function renderChiChart() {
            const ctx = document.getElementById('chiChart').getContext('2d');
            chiChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Attended Programme', 'Did Not Attend'],
                    datasets: [
                        { label: 'Got Vaccine', data: [70, 40], backgroundColor: '#00B2A9' },
                        { label: 'No Vaccine', data: [30, 60], backgroundColor: '#FFC107' }
                    ]
                },
                options: {
                    plugins: {
                        title: { display: true, text: 'Vaccination Status by Programme Attendance', font: { size: 16 } },
                    },
                    responsive: true,
                    scales: {
                        x: { stacked: true, title: { display: true, text: 'Programme Attendance' } },
                        y: { stacked: true, title: { display: true, text: 'Number of People' } }
                    }
                }
            });
        }

        function renderCorrChart() {
            const ctx = document.getElementById('corrChart').getContext('2d');
            corrChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Participant Data',
                        data: [
                            {x: 1, y: 85}, {x: 2, y: 78}, {x: 3, y: 74}, {x: 4, y: 68},
                            {x: 5, y: 65}, {x: 6, y: 62}, {x: 7, y: 61}, {x: 8, y: 58}
                        ],
                        backgroundColor: '#005A9C'
                    }, {
                        label: 'Line of Best Fit',
                        data: [{x: 1, y: 83}, {x: 8, y: 59}],
                        type: 'line',
                        borderColor: '#dc3545',
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0
                    }]
                },
                options: {
                    plugins: {
                        title: { display: true, text: 'Exercise vs. Resting Heart Rate', font: { size: 16 } },
                        legend: { display: true }
                    },
                    scales: {
                        x: { type: 'linear', position: 'bottom', title: { display: true, text: 'Hours of Exercise per Week' } },
                        y: { title: { display: true, text: 'Resting Heart Rate (bpm)' } }
                    }
                }
            });
        }
        
        function renderRegressionChart() {
            const ctx = document.getElementById('regressionChart').getContext('2d');
            regressionChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Patient Data',
                        data: [
                            {x: 5, y: 6}, {x: 8, y: 12}, {x: 3, y: 4}, {x: 7, y: 10},
                            {x: 4, y: 5}, {x: 9, y: 14}, {x: 6, y: 8}
                        ],
                        backgroundColor: '#005A9C'
                    }, {
                        label: 'Regression Line',
                        data: [{x: 2, y: 3}, {x: 10, y: 14}],
                        type: 'line',
                        borderColor: '#dc3545',
                        fill: false,
                        tension: 0.1
                    }]
                },
                options: {
                    plugins: {
                        title: { display: true, text: 'Severity Score vs. Length of Stay', font: { size: 16 } },
                        legend: { display: true }
                    },
                    scales: {
                        x: { type: 'linear', position: 'bottom', title: { display: true, text: 'Illness Severity Score' } },
                        y: { title: { display: true, text: 'Length of Stay (Days)' } }
                    }
                }
            });
        }
        
        // --- Sandbox Logic ---
        const initialData = [78, 81, 83, 83, 85, 89, 95, 97, 101, 108];
        let currentData = [...initialData];
        let sandboxChart;

        function updateSandboxDisplay(isInitial = false) {
            document.getElementById('sandboxDataset').textContent = `[${currentData.join(', ')}]`;
            calculateAndShowStats(currentData, isInitial);
            renderSandboxChart(currentData);
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateSandboxDisplay(true);

            document.getElementById('recalculate').addEventListener('click', () => {
                const outlierInput = document.getElementById('outlierInput');
                const newValue = parseFloat(outlierInput.value);
                if (!isNaN(newValue)) {
                    currentData.push(newValue);
                    updateSandboxDisplay(false);
                    outlierInput.value = ''; // Clear input after adding
                } else {
                    alert('Please enter a valid number.');
                }
            });

            document.getElementById('resetData').addEventListener('click', () => {
                currentData = [...initialData];
                updateSandboxDisplay(true);
                document.getElementById('sandboxResults').style.display = 'none';
                // Recalculate and show initial stats on reset
                setTimeout(() => updateSandboxDisplay(true), 10);
            });
        });

        function calculateAndShowStats(data, isInitial = false) {
            const resultsDiv = document.getElementById('sandboxResults');
            const sortedData = [...data].sort((a, b) => a - b);
            const n = data.length;
            
            if (n === 0) {
                resultsDiv.style.display = 'none';
                return;
            }
            
            // Mean
            const mean = (data.reduce((a, b) => a + b, 0) / n);
            
            // Median
            let median;
            const mid = Math.floor(sortedData.length / 2);
            median = n % 2 === 0 ? (sortedData[mid - 1] + sortedData[mid]) / 2 : sortedData[mid];

            // Mode
            const counts = {};
            data.forEach(num => { counts[num] = (counts[num] || 0) + 1; });
            let mode = Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);

            // Standard Deviation
            const sd = n > 1 ? Math.sqrt(data.map(x => Math.pow(x - mean, 2)).reduce((a, b) => a + b) / (n - 1)) : 0;

            let interpretation = '';
            if (isInitial) {
                interpretation = `<strong>Interpretation:</strong> Notice how the Mean (${mean.toFixed(1)}) and Median (${median.toFixed(1)}) are very close. The Standard Deviation (${sd.toFixed(1)}) is relatively small. This suggests a symmetrical, or normal, distribution where <strong>parametric tests</strong> would be appropriate.`;
            } else {
                interpretation = `<strong>Interpretation:</strong> See how the new data point(s) pulled the <strong>Mean (${mean.toFixed(1)})</strong> significantly, while the <strong>Median (${median.toFixed(1)})</strong> was less affected? Also, notice how the <strong>Standard Deviation (${sd.toFixed(1)})</strong> has increased, indicating the data is now more spread out. This has created a skewed distribution where <strong>non-parametric tests</strong> would be a better choice.`;
            }

            resultsDiv.innerHTML = `
                <p><strong>Mean:</strong> ${mean.toFixed(1)}</p>
                <p><strong>Median:</strong> ${median.toFixed(1)}</p>
                <p><strong>Mode:</strong> ${mode}</p>
                <p><strong>Standard Deviation:</strong> ${sd.toFixed(1)}</p>
                <p>${interpretation}</p>
            `;
            resultsDiv.style.display = 'block';
        }

        function renderSandboxChart(data) {
            const ctx = document.getElementById('sandboxChart').getContext('2d');
            const bins = {};
            
            if (data.length === 0) {
                if (sandboxChart) {
                    sandboxChart.destroy();
                    sandboxChart = null;
                }
                return;
            }

            const min = Math.min(...data);
            const max = Math.max(...data);
            
            // Simple binning logic
            for (let i = Math.floor(min / 10) * 10; i <= Math.ceil(max / 10) * 10; i += 10) {
                const binLabel = `${i}-${i+9}`;
                bins[binLabel] = 0;
            }

            data.forEach(val => {
                const binStart = Math.floor(val / 10) * 10;
                const binLabel = `${binStart}-${binStart+9}`;
                if (bins[binLabel] !== undefined) {
                    bins[binLabel]++;
                }
            });

            const chartData = {
                labels: Object.keys(bins),
                datasets: [{
                    label: 'Frequency',
                    data: Object.values(bins),
                    backgroundColor: 'rgba(0, 178, 169, 0.6)',
                    borderColor: 'rgba(0, 178, 169, 1)',
                    borderWidth: 1
                }]
            };

            if (sandboxChart) {
                sandboxChart.data = chartData;
                sandboxChart.update();
            } else {
                sandboxChart = new Chart(ctx, {
                    type: 'bar',
                    data: chartData,
                    options: {
                        plugins: {
                            title: { display: true, text: 'Heart Rate Distribution' },
                            legend: { display: false }
                        },
                        scales: {
                            y: { beginAtZero: true, title: { display: true, text: 'Frequency (Count)' } },
                            x: { title: { display: true, text: 'Heart Rate (bpm)' } }
                        }
                    }
                });
            }
        }

        // --- START: SCRIPT FOR STATISTICAL TEST GUIDE ---
        document.addEventListener('DOMContentLoaded', function() {
            // This listener ensures the guide's script runs after the page is loaded.
            // It's safe to have multiple DOMContentLoaded listeners.

            // --- 1. MODAL LOGIC ---
            const testInfo = {
                'paired-t-test': {
                    title: 'Paired t-test',
                    purpose: 'To compare the means of one numerical variable for the same group at two different times or under two different conditions.',
                    variables: 'One numerical dependent variable and one categorical independent variable with two related groups (e.g., time points).',
                    example: '"Does a 6-week physiotherapy programme significantly reduce the average pain score (on a scale of 1-10) in patients with chronic back pain?"'
                },
                'independent-t-test': {
                    title: 'Independent t-test',
                    purpose: 'To compare the means of one numerical variable between two separate, independent groups.',
                    variables: 'One numerical dependent variable and one categorical independent variable with two independent groups.',
                    example: '"Is there a significant difference in the average systolic blood pressure between a group of patients taking a new drug and a group taking a placebo?"'
                },
                'rm-anova': {
                    title: 'Repeated Measures ANOVA',
                    purpose: 'To compare the means of one numerical variable for the same group at three or more different times or under three or more different conditions.',
                    variables: 'One numerical dependent variable and one categorical independent variable with three or more related groups.',
                    example: '"Does a patient\'s cholesterol level change significantly at baseline, 6 months, and 12 months after starting a new diet?"'
                },
                'one-way-anova': {
                    title: 'One-Way ANOVA',
                    purpose: 'To compare the means of one numerical variable between three or more separate, independent groups.',
                    variables: 'One numerical dependent variable and one categorical independent variable with three or more independent groups.',
                    example: '"Is there a difference in the average recovery time for patients undergoing three different types of knee surgery (A, B, or C)?"'
                },
                'wilcoxon': {
                    title: 'Wilcoxon Signed-Rank Test',
                    purpose: 'The non-parametric equivalent of a Paired t-test. It compares the medians of one ordinal variable for the same group at two different times.',
                    variables: 'One ordinal dependent variable and one categorical independent variable with two related groups.',
                    example: '"After a new training module, do nurses\' self-rated confidence levels (rated as low, medium, high) significantly improve from pre-training to post-training?"'
                },
                'mann-whitney': {
                    title: 'Mann-Whitney U Test',
                    purpose: 'The non-parametric equivalent of an Independent t-test. It compares the medians of one ordinal variable between two independent groups.',
                    variables: 'One ordinal dependent variable and one categorical independent variable with two independent groups.',
                    example: '"Do patients in a treatment group report significantly different levels of satisfaction (e.g., dissatisfied, neutral, satisfied) compared to patients in a control group?"'
                },
                'friedman': {
                    title: "Friedman's Test",
                    purpose: 'The non-parametric equivalent of a Repeated Measures ANOVA. It compares the medians of one ordinal variable for the same group at three or more different times.',
                    variables: 'One ordinal dependent variable and one categorical independent variable with three or more related groups.',
                    example: '"Does the severity of a patient\'s allergy symptoms (rated as none, mild, moderate, severe) change significantly across three different seasons (Spring, Summer, Autumn)?"'
                },
                'kruskal-wallis': {
                    title: 'Kruskal-Wallis Test',
                    purpose: 'The non-parametric equivalent of a One-Way ANOVA. It compares the medians of one ordinal variable between three or more independent groups.',
                    variables: 'One ordinal dependent variable and one categorical independent variable with three or more independent groups.',
                    example: '"Is there a difference in the perceived quality of care (rated 1-5 stars) among patients from three different hospital wards?"'
                },
                'mcnemar': {
                    title: "McNemar's Test",
                    purpose: 'To analyse changes in proportions for paired nominal data, often used in before-and-after studies.',
                    variables: 'Two related nominal variables, each with two categories (e.g., yes/no).',
                    example: '"After a public health campaign, was there a significant change in the proportion of smokers who successfully quit (i.e., changed from smoker to non-smoker)?"'
                },
                'chi-square': {
                    title: 'Chi-Square Test of Independence',
                    purpose: 'To determine if there is a significant association between two independent nominal variables.',
                    variables: 'Two independent nominal variables.',
                    example: '"Is there an association between a patient\'s vaccination status (vaccinated/unvaccinated) and whether they were hospitalised with the flu (yes/no)?"'
                },
                'cochran-q': {
                    title: "Cochran's Q Test",
                    purpose: 'An extension of McNemar\'s test for three or more related measurements. It tests for differences in proportions for paired nominal data across multiple time points.',
                    variables: 'Three or more related nominal variables, each with two categories (e.g., yes/no).',
                    example: '"Does the proportion of patients who test positive for a specific biomarker change significantly at baseline, 3 months, and 6 months after an intervention?"'
                },
                'pearson-regression': {
                    title: "Pearson's Correlation or Linear Regression",
                    purpose: 'To measure the strength and direction of the linear relationship between two numerical variables (Correlation) or to predict the value of one numerical variable from another (Regression).',
                    variables: 'Two numerical variables.',
                    example: '"Is there a relationship between the number of hours a person exercises per week and their resting heart rate? Can we predict resting heart rate based on exercise hours?"'
                },
                'spearman': {
                    title: "Spearman's Correlation",
                    purpose: 'To measure the strength and direction of the monotonic relationship between two ordinal (or non-normally distributed numerical) variables.',
                    variables: 'Two ordinal variables.',
                    example: '"Is there a relationship between a medical student\'s ranking in their class and their self-rated level of empathy (on a 1-10 scale)?"'
                }
            };

            const modal = document.getElementById('test-modal');
            const closeBtn = document.getElementById('modal-close-btn');
            const finalTestBoxes = document.querySelectorAll('.final-test');

            finalTestBoxes.forEach(box => {
                box.addEventListener('click', () => {
                    const testName = box.dataset.testName;
                    const data = testInfo[testName];
                    if (data) {
                        document.getElementById('modal-title').textContent = data.title;
                        document.getElementById('modal-purpose').textContent = data.purpose;
                        document.getElementById('modal-variables').textContent = data.variables;
                        document.getElementById('modal-example').textContent = data.example;
                        modal.classList.add('visible');
                    }
                });
            });

            const closeModal = () => modal.classList.remove('visible');
            closeBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

            // --- 2. EXAMPLE TRACKER LOGIC ---
            const exampleTracker = document.getElementById('example-tracker').querySelector('p');
            let currentPath = { goal: null, dataType: null, dist: null, design: null };

            const exampleSnippets = {
                'diff': 'You want to see if there is a **difference** between groups, such as comparing a new blood pressure drug to a placebo.',
                'diff-numerical': 'Your outcome is **numerical**, like measuring systolic blood pressure in mmHg.',
                'diff-numerical-yes': 'Your blood pressure data is **normally distributed**, allowing you to compare the average values between groups.',
                'diff-numerical-yes-unpaired': 'Your design is **unpaired**. You are comparing the average blood pressure of one group of patients taking the new drug to a *different* group of patients taking a placebo.',
                'diff-numerical-yes-paired': 'Your design is **paired**. You are measuring the same patients\' blood pressure before and after they start taking the new drug.',
                'diff-numerical-no': 'Your numerical data is **not normally distributed** (e.g., measuring \'days to blood pressure normalisation\', which is often skewed). **Because the assumption of normality is not met, you should proceed down the \'Ordinal\' data path** to use a non-parametric test.',
                'diff-ordinal': 'Your outcome is **ordinal**, like asking patients to rate their symptom severity on a scale of \'mild\', \'moderate\', or \'severe\'.',
                'diff-ordinal-unpaired': 'Your design is **unpaired**. You are comparing symptom severity ratings between a group receiving a new therapy and a different group receiving standard care.',
                'diff-ordinal-paired': 'Your design is **paired**. You are asking the same patients to rate their symptom severity before and after receiving a new therapy.',
                'diff-nominal': 'Your outcome is **nominal**, like whether a patient was readmitted to the hospital (yes/no).',
                'diff-nominal-unpaired': 'Your design is **unpaired**. You are comparing the proportion of patients who recovered in a treatment group versus a control group.',
                'diff-nominal-paired': 'Your design is **paired**. You are checking if the same group of patients changed their diagnosis from "positive" to "negative" after a treatment.',
                
                'rel': 'You want to see if there is a **relationship** between two variables, such as the link between daily salt intake and blood pressure.',
                'rel-two-numerical': 'You are relating two **numerical** variables, like daily salt intake (in mg) and systolic blood pressure (in mmHg).',
                'rel-two-numerical-yes': 'Your data for both variables is **normally distributed**. You are exploring if there is a linear relationship between higher salt intake and higher blood pressure.',
                'rel-two-numerical-no': 'At least one of your numerical variables is **not normally distributed**. **Because the assumption of normality is not met, you should proceed down the \'Two Ordinal\' data path** to use a non-parametric correlation (Spearman\'s).',
                'rel-two-ordinal': 'You are relating two **ordinal** variables, like the stage of a disease (Stage I, II, III) and a patient\'s self-reported quality of life (poor, fair, good).',
                'rel-two-nominal': 'You are relating two **nominal** variables, like a person\'s smoking status (smoker/non-smoker) and their diagnosis for a certain lung condition (yes/no).',
                'rel-two-nominal-unpaired': 'Your design is **unpaired**. You are testing for an association between two independent characteristics, like a patient\'s gender (male/female) and their medication adherence (adherent/non-adherent).',
                'rel-two-nominal-paired': 'Your design is **paired**. You are testing for an association in a before-and-after scenario, like checking if the relationship between two nominal variables changes when measured twice on the same subjects.'
            };

            function updateExample() {
                let key = currentPath.goal;
                if (key && currentPath.dataType) key += '-' + currentPath.dataType;
                if (key && currentPath.dist) key += '-' + currentPath.dist;
                if (key && currentPath.design) key += '-' + currentPath.design;

                let text = "<strong>Your Research Scenario:</strong> ";
                if (exampleSnippets[key]) {
                    text += exampleSnippets[key];
                } else if (currentPath.goal) {
                    let baseKey = currentPath.goal;
                    if (currentPath.dataType) baseKey += '-' + currentPath.dataType;
                    if (currentPath.dist) baseKey += '-' + currentPath.dist;
                    text += exampleSnippets[baseKey] || exampleSnippets[currentPath.goal] || "Continue selecting a path to refine the example.";
                } else {
                    text += "Click on a path below to see a relevant research example appear here. This will help you connect the choices to a real-world study.";
                }
                exampleTracker.innerHTML = text;
            }

            document.querySelectorAll('.guide-wrapper [data-choice]').forEach(el => {
                el.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const choice = el.dataset.choice;
                    const value = el.dataset.value;

                    if (choice === 'goal') {
                        currentPath = { goal: value, dataType: null, dist: null, design: null };
                    } else if (choice === 'dataType') {
                        currentPath.dataType = value;
                        currentPath.dist = null;
                        currentPath.design = null;
                    } else if (choice === 'dist') {
                        currentPath.dist = value;
                        currentPath.design = null;
                    } else if (choice === 'design') {
                        currentPath.design = value;
                    }
                    
                    updateExample();
                });
            });

        });
        // --- END: SCRIPT FOR STATISTICAL TEST GUIDE ---
    </script>

</body>
</html>